{
    "sourceFile": "src/components/Home/Order/index.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1644611037491,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1644611091782,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,91 +52,23 @@\n export default {\r\n   name: 'Order',\r\n   data () {\r\n     return {\r\n-      queryInfo: {\r\n-        query: '',\r\n-        pagenum: 1,\r\n-        pagesize: 10\r\n-      },\r\n-      total: 0,\r\n-      orderList: [],\r\n-      addressVisible: false,\r\n-      addressForm: {\r\n-        address1: [],\r\n-        detailAdd: ''\r\n-      },\r\n-      addressFormRules: {\r\n-        address1: [\r\n-          {\r\n-            required: true,\r\n-            message: '请选择省市区/县',\r\n-            trigger: 'blur'\r\n-          }\r\n-        ],\r\n-        detailAdd: [\r\n-          {\r\n-            required: true,\r\n-            message: '请选择详细地址',\r\n-            trigger: 'blur'\r\n-          }\r\n-        ]\r\n-      },\r\n-      // 省市区/县地址\r\n-      cityData: cityData,\r\n-      cityProps: {\r\n-        // 从el-cascader标签的属性,中移动到这个cascadeProps中\r\n-        expandTrigger: 'hover'\r\n-      },\r\n+      \r\n       progressVisible: false,\r\n     }\r\n   },\r\n   created () {\r\n     this.getOrdersList()\r\n   },\r\n   methods: {\r\n+  \r\n     /**\r\n-     * 获取订单列表\r\n-     */\r\n-    async getOrdersList () {\r\n-      const { data: res } = await this.$http.get('orders', { params: this.queryInfo })\r\n-      if (res.meta.status !== 200) {\r\n-        return this.$http.error('获取订单列表失败!')\r\n-      } else {\r\n-        this.total = res.data.total\r\n-        this.orderList = res.data.goods\r\n-      }\r\n-    },\r\n-    handleSizeChange (newSize) {\r\n-      this.queryInfo.pagesize = newSize\r\n-      this.getOrdersList()\r\n-    },\r\n-    handleCurrentChange (newPage) {\r\n-      this.queryInfo.pagenum = newPage\r\n-      this.getOrdersList()\r\n-    },\r\n-    /**\r\n-     * 展示修改地址\r\n-     */\r\n-    showBox () {\r\n-      this.addressVisible = true\r\n-    },\r\n-    /**\r\n-     * 监听 修改对话框的事件\r\n-     */\r\n-    addressDialogClosed () {\r\n-      this.$refs.addressFormRef.resetFields()\r\n-    },\r\n-    /**\r\n      * 获取物流信息\r\n      * @returns {Promise<*>}\r\n      */\r\n-    async showProgressBox (row) {\r\n-      // 这部分有问题\r\n-      // const { data: res } = await this.$http.get('/kuaidi/804909574412544580')\r\n-      // if (res.meta.status !== 200) {\r\n-      //   return this.$http.error('获取物流信息失败')\r\n-      // }\r\n+     showProgressBox (row) {\r\n+      \r\n \r\n       this.progressInfo = [\r\n         {\r\n           time: '2018-05-10 09:39:00',\r\n@@ -198,9 +130,8 @@\n           context: '商品已经下单',\r\n           location: ''\r\n         }\r\n       ]\r\n-      // console.log(this.progressInfo)\r\n       this.progressVisible = true\r\n     }\r\n \r\n   }\r\n"
                },
                {
                    "date": 1644611126476,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,8 @@\n </template>\r\n \r\n <script>\r\n \r\n-import cityData from '../../utils/citydata'\r\n \r\n export default {\r\n   name: 'Order',\r\n   data () {\r\n@@ -57,16 +56,11 @@\n       progressVisible: false,\r\n     }\r\n   },\r\n   created () {\r\n-    this.getOrdersList()\r\n   },\r\n   methods: {\r\n   \r\n-    /**\r\n-     * 获取物流信息\r\n-     * @returns {Promise<*>}\r\n-     */\r\n      showProgressBox (row) {\r\n       \r\n \r\n       this.progressInfo = [\r\n"
                },
                {
                    "date": 1644611142017,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,30 +11,8 @@\n        <el-button icon=\"el-icon-location\" size=\"mini\" type=\"success\"\r\n                          @click=\"showProgressBox()\"></el-button>\r\n     </el-card>\r\n \r\n-    <!--修改地址的对话框-->\r\n-    <el-dialog\r\n-      :visible.sync=\"addressVisible\"\r\n-      title=\"修改地址\"\r\n-      width=\"35%\"\r\n-      @close=\"addressDialogClosed\">\r\n-      <el-form ref=\"addressFormRef\" :model=\"addressForm\" :rules=\"addressFormRules\"\r\n-               label-width=\"100px\">\r\n-        <el-form-item label=\"省市区/县\" prop=\"address1\">\r\n-          <el-cascader\r\n-            v-model=\"addressForm.address1\"\r\n-            :options=\"cityData\"\r\n-            :props=\"cityProps\"\r\n-            clearable\r\n-            expand-trigger=\"hover\"\r\n-          ></el-cascader>\r\n-        </el-form-item>\r\n-        <el-form-item label=\"详细地址\" prop=\"detailAdd\">\r\n-          <el-input v-model=\"addressForm.detailAdd\"></el-input>\r\n-        </el-form-item>\r\n-      </el-form>\r\n-    </el-dialog>\r\n \r\n     <!-- 展示物流进度的对话框 -->\r\n     <el-dialog\r\n       :visible.sync=\"progressVisible\"\r\n"
                },
                {
                    "date": 1644611381652,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,16 @@\n     <el-dialog\r\n       :visible.sync=\"progressVisible\"\r\n       title=\"物流进度\"\r\n       width=\"35%\">\r\n-      111\r\n+     <el-timeline :reverse=\"true\">\r\n+    <el-timeline-item\r\n+      v-for=\"(activity, index) in progressInfo\"\r\n+      :key=\"index\"\r\n+      :timestamp=\"activity.timestamp\">\r\n+      {{activity.content}}\r\n+    </el-timeline-item>\r\n+  </el-timeline>\r\n     </el-dialog>\r\n   </div>\r\n </template>\r\n \r\n@@ -31,8 +38,9 @@\n   data () {\r\n     return {\r\n       \r\n       progressVisible: false,\r\n+      progressInfo:[]\r\n     }\r\n   },\r\n   created () {\r\n   },\r\n"
                },
                {
                    "date": 1644611473403,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,10 +21,10 @@\n      <el-timeline :reverse=\"true\">\r\n     <el-timeline-item\r\n       v-for=\"(activity, index) in progressInfo\"\r\n       :key=\"index\"\r\n-      :timestamp=\"activity.timestamp\">\r\n-      {{activity.content}}\r\n+      :timestamp=\"activity.time\">\r\n+      {{activity.context}}\r\n     </el-timeline-item>\r\n   </el-timeline>\r\n     </el-dialog>\r\n   </div>\r\n"
                }
            ],
            "date": 1644611037491,
            "name": "Commit-0",
            "content": "<template>\r\n  <div>\r\n    <!--面包屑导航区域-->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>订单管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>订单列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!--卡片视图区域-->\r\n    <el-card class=\"box-card\">\r\n       <el-button icon=\"el-icon-location\" size=\"mini\" type=\"success\"\r\n                         @click=\"showProgressBox()\"></el-button>\r\n    </el-card>\r\n\r\n    <!--修改地址的对话框-->\r\n    <el-dialog\r\n      :visible.sync=\"addressVisible\"\r\n      title=\"修改地址\"\r\n      width=\"35%\"\r\n      @close=\"addressDialogClosed\">\r\n      <el-form ref=\"addressFormRef\" :model=\"addressForm\" :rules=\"addressFormRules\"\r\n               label-width=\"100px\">\r\n        <el-form-item label=\"省市区/县\" prop=\"address1\">\r\n          <el-cascader\r\n            v-model=\"addressForm.address1\"\r\n            :options=\"cityData\"\r\n            :props=\"cityProps\"\r\n            clearable\r\n            expand-trigger=\"hover\"\r\n          ></el-cascader>\r\n        </el-form-item>\r\n        <el-form-item label=\"详细地址\" prop=\"detailAdd\">\r\n          <el-input v-model=\"addressForm.detailAdd\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n\r\n    <!-- 展示物流进度的对话框 -->\r\n    <el-dialog\r\n      :visible.sync=\"progressVisible\"\r\n      title=\"物流进度\"\r\n      width=\"35%\">\r\n      111\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport cityData from '../../utils/citydata'\r\n\r\nexport default {\r\n  name: 'Order',\r\n  data () {\r\n    return {\r\n      queryInfo: {\r\n        query: '',\r\n        pagenum: 1,\r\n        pagesize: 10\r\n      },\r\n      total: 0,\r\n      orderList: [],\r\n      addressVisible: false,\r\n      addressForm: {\r\n        address1: [],\r\n        detailAdd: ''\r\n      },\r\n      addressFormRules: {\r\n        address1: [\r\n          {\r\n            required: true,\r\n            message: '请选择省市区/县',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        detailAdd: [\r\n          {\r\n            required: true,\r\n            message: '请选择详细地址',\r\n            trigger: 'blur'\r\n          }\r\n        ]\r\n      },\r\n      // 省市区/县地址\r\n      cityData: cityData,\r\n      cityProps: {\r\n        // 从el-cascader标签的属性,中移动到这个cascadeProps中\r\n        expandTrigger: 'hover'\r\n      },\r\n      progressVisible: false,\r\n    }\r\n  },\r\n  created () {\r\n    this.getOrdersList()\r\n  },\r\n  methods: {\r\n    /**\r\n     * 获取订单列表\r\n     */\r\n    async getOrdersList () {\r\n      const { data: res } = await this.$http.get('orders', { params: this.queryInfo })\r\n      if (res.meta.status !== 200) {\r\n        return this.$http.error('获取订单列表失败!')\r\n      } else {\r\n        this.total = res.data.total\r\n        this.orderList = res.data.goods\r\n      }\r\n    },\r\n    handleSizeChange (newSize) {\r\n      this.queryInfo.pagesize = newSize\r\n      this.getOrdersList()\r\n    },\r\n    handleCurrentChange (newPage) {\r\n      this.queryInfo.pagenum = newPage\r\n      this.getOrdersList()\r\n    },\r\n    /**\r\n     * 展示修改地址\r\n     */\r\n    showBox () {\r\n      this.addressVisible = true\r\n    },\r\n    /**\r\n     * 监听 修改对话框的事件\r\n     */\r\n    addressDialogClosed () {\r\n      this.$refs.addressFormRef.resetFields()\r\n    },\r\n    /**\r\n     * 获取物流信息\r\n     * @returns {Promise<*>}\r\n     */\r\n    async showProgressBox (row) {\r\n      // 这部分有问题\r\n      // const { data: res } = await this.$http.get('/kuaidi/804909574412544580')\r\n      // if (res.meta.status !== 200) {\r\n      //   return this.$http.error('获取物流信息失败')\r\n      // }\r\n\r\n      this.progressInfo = [\r\n        {\r\n          time: '2018-05-10 09:39:00',\r\n          ftime: '2018-05-10 09:39:00',\r\n          context: '已签收,感谢使用顺丰,期待再次为您服务',\r\n          location: ''\r\n        },\r\n        {\r\n          time: '2018-05-10 08:23:00',\r\n          ftime: '2018-05-10 08:23:00',\r\n          context: '[北京市]北京海淀育新小区营业点派件员 顺丰速运 95338正在为您派件',\r\n          location: ''\r\n        },\r\n        {\r\n          time: '2018-05-10 07:32:00',\r\n          ftime: '2018-05-10 07:32:00',\r\n          context: '快件到达 [北京海淀育新小区营业点]',\r\n          location: ''\r\n        },\r\n        {\r\n          time: '2018-05-10 02:03:00',\r\n          ftime: '2018-05-10 02:03:00',\r\n          context: '快件在[北京顺义集散中心]已装车,准备发往 [北京海淀育新小区营业点]',\r\n          location: ''\r\n        },\r\n        {\r\n          time: '2018-05-09 23:05:00',\r\n          ftime: '2018-05-09 23:05:00',\r\n          context: '快件到达 [北京顺义集散中心]',\r\n          location: ''\r\n        },\r\n        {\r\n          time: '2018-05-09 21:21:00',\r\n          ftime: '2018-05-09 21:21:00',\r\n          context: '快件在[北京宝胜营业点]已装车,准备发往 [北京顺义集散中心]',\r\n          location: ''\r\n        },\r\n        {\r\n          time: '2018-05-09 13:07:00',\r\n          ftime: '2018-05-09 13:07:00',\r\n          context: '顺丰速运 已收取快件',\r\n          location: ''\r\n        },\r\n        {\r\n          time: '2018-05-09 12:25:03',\r\n          ftime: '2018-05-09 12:25:03',\r\n          context: '卖家发货',\r\n          location: ''\r\n        },\r\n        {\r\n          time: '2018-05-09 12:22:24',\r\n          ftime: '2018-05-09 12:22:24',\r\n          context: '您的订单将由HLA（北京海淀区清河中街店）门店安排发货。',\r\n          location: ''\r\n        },\r\n        {\r\n          time: '2018-05-08 21:36:04',\r\n          ftime: '2018-05-08 21:36:04',\r\n          context: '商品已经下单',\r\n          location: ''\r\n        }\r\n      ]\r\n      // console.log(this.progressInfo)\r\n      this.progressVisible = true\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n.el-cascader {\r\n  width: 100%;\r\n}\r\n</style>\r\n"
        }
    ]
}