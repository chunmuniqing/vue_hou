{
    "sourceFile": "src/components/Home/Shop/Goods/add.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 100,
            "patches": [
                {
                    "date": 1644596488575,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1644597191472,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,13 @@\n <template>\r\n-  <div>添加商品</div>\r\n+  <div>\r\n+    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n+      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n+      <el-breadcrumb-item :to=\"{ path: '/goods' }\">商品管理</el-breadcrumb-item>\r\n+      <el-breadcrumb-item :to=\"{ path: '/goods/add' }\">商品分类</el-breadcrumb-item>\r\n+    </el-breadcrumb>\r\n+    <h1>添加商品</h1>\r\n+  </div>\r\n </template>\r\n \r\n <script>\r\n export default {\r\n"
                },
                {
                    "date": 1644597759329,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,22 @@\n       <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n       <el-breadcrumb-item :to=\"{ path: '/goods' }\">商品管理</el-breadcrumb-item>\r\n       <el-breadcrumb-item :to=\"{ path: '/goods/add' }\">商品分类</el-breadcrumb-item>\r\n     </el-breadcrumb>\r\n-    <h1>添加商品</h1>\r\n+    <el-card>\r\n+      <!-- 提示区域 -->\r\n+      <el-alert\r\n+        :closable=\"false\"\r\n+        center\r\n+        show-icon\r\n+        title=\"添加商品信息\"\r\n+        type=\"info\">\r\n+      </el-alert>\r\n+\r\n+    \r\n+\r\n+     \r\n+    </el-card>\r\n   </div>\r\n </template>\r\n \r\n <script>\r\n"
                },
                {
                    "date": 1644597815872,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,32 +2,35 @@\n   <div>\r\n     <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n       <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n       <el-breadcrumb-item :to=\"{ path: '/goods' }\">商品管理</el-breadcrumb-item>\r\n-      <el-breadcrumb-item :to=\"{ path: '/goods/add' }\">商品分类</el-breadcrumb-item>\r\n+      <el-breadcrumb-item :to=\"{ path: '/goods/add' }\"\r\n+        >商品分类</el-breadcrumb-item\r\n+      >\r\n     </el-breadcrumb>\r\n     <el-card>\r\n       <!-- 提示区域 -->\r\n       <el-alert\r\n         :closable=\"false\"\r\n         center\r\n         show-icon\r\n         title=\"添加商品信息\"\r\n-        type=\"info\">\r\n+        type=\"info\"\r\n+      >\r\n       </el-alert>\r\n-\r\n-    \r\n-\r\n-     \r\n+      <el-steps :space=\"200\" :active=\"1\" finish-status=\"success\">\r\n+        <el-step title=\"已完成\"></el-step>\r\n+        <el-step title=\"进行中\"></el-step>\r\n+        <el-step title=\"步骤 3\"></el-step>\r\n+      </el-steps>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n \r\n <script>\r\n export default {\r\n-  name: 'Add',\r\n+  name: 'Add'\r\n }\r\n </script>\r\n \r\n <style  scoped>\r\n-\r\n </style>\r\n"
                },
                {
                    "date": 1644597847069,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,5 +32,8 @@\n }\r\n </script>\r\n \r\n <style  scoped>\r\n+.el-steps {\r\n+  margin: 20px;\r\n+}\r\n </style>\r\n"
                },
                {
                    "date": 1644597875199,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,8 +20,11 @@\n       <el-steps :space=\"200\" :active=\"1\" finish-status=\"success\">\r\n         <el-step title=\"已完成\"></el-step>\r\n         <el-step title=\"进行中\"></el-step>\r\n         <el-step title=\"步骤 3\"></el-step>\r\n+        <el-step title=\"步骤 3\"></el-step>\r\n+        <el-step title=\"步骤 3\"></el-step>\r\n+        <el-step title=\"步骤 3\"></el-step>\r\n       </el-steps>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n"
                },
                {
                    "date": 1644597959310,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,14 +17,14 @@\n         type=\"info\"\r\n       >\r\n       </el-alert>\r\n       <el-steps :space=\"200\" :active=\"1\" finish-status=\"success\">\r\n-        <el-step title=\"已完成\"></el-step>\r\n-        <el-step title=\"进行中\"></el-step>\r\n-        <el-step title=\"步骤 3\"></el-step>\r\n-        <el-step title=\"步骤 3\"></el-step>\r\n-        <el-step title=\"步骤 3\"></el-step>\r\n-        <el-step title=\"步骤 3\"></el-step>\r\n+        <el-step title=\"基本信息\"></el-step>\r\n+        <el-step title=\"商品参数\"></el-step>\r\n+        <el-step title=\"商品属性\"></el-step>\r\n+        <el-step title=\"商品图片\"></el-step>\r\n+        <el-step title=\"商品内容\"></el-step>\r\n+        <el-step title=\"完成\"></el-step>\r\n       </el-steps>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n@@ -36,7 +36,8 @@\n </script>\r\n \r\n <style  scoped>\r\n .el-steps {\r\n-  margin: 20px;\r\n+  margin: 20px 0;\r\n+  text-align: center;\r\n }\r\n </style>\r\n"
                },
                {
                    "date": 1644597987119,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,9 +16,9 @@\n         title=\"添加商品信息\"\r\n         type=\"info\"\r\n       >\r\n       </el-alert>\r\n-      <el-steps :space=\"200\" :active=\"1\" finish-status=\"success\">\r\n+      <el-steps :space=\"200\" :active=\"1\" finish-status=\"success\" align-center>\r\n         <el-step title=\"基本信息\"></el-step>\r\n         <el-step title=\"商品参数\"></el-step>\r\n         <el-step title=\"商品属性\"></el-step>\r\n         <el-step title=\"商品图片\"></el-step>\r\n@@ -37,7 +37,6 @@\n \r\n <style  scoped>\r\n .el-steps {\r\n   margin: 20px 0;\r\n-  text-align: center;\r\n }\r\n </style>\r\n"
                },
                {
                    "date": 1644598011694,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,6 +37,7 @@\n \r\n <style  scoped>\r\n .el-steps {\r\n   margin: 20px 0;\r\n+  size:14px;\r\n }\r\n </style>\r\n"
                },
                {
                    "date": 1644598026751,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,7 +37,7 @@\n \r\n <style  scoped>\r\n .el-steps {\r\n   margin: 20px 0;\r\n-  size:14px;\r\n+  size:12px;\r\n }\r\n </style>\r\n"
                },
                {
                    "date": 1644598061963,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,7 +37,9 @@\n \r\n <style  scoped>\r\n .el-steps {\r\n   margin: 20px 0;\r\n-  size:12px;\r\n }\r\n+*/deep/ .el-step__title {\r\n+  font-size: 12px;\r\n+}\r\n </style>\r\n"
                },
                {
                    "date": 1644598070273,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,7 +39,7 @@\n .el-steps {\r\n   margin: 20px 0;\r\n }\r\n */deep/ .el-step__title {\r\n-  font-size: 12px;\r\n+  font-size: 14px;\r\n }\r\n </style>\r\n"
                },
                {
                    "date": 1644598108371,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,7 +39,10 @@\n .el-steps {\r\n   margin: 20px 0;\r\n }\r\n */deep/ .el-step__title {\r\n-  font-size: 14px;\r\n+  font-size: 13px;\r\n }\r\n+.el-step__icon {\r\n+  font-size: 12px;\r\n+}\r\n </style>\r\n"
                },
                {
                    "date": 1644598119290,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,8 +41,8 @@\n }\r\n */deep/ .el-step__title {\r\n   font-size: 13px;\r\n }\r\n-.el-step__icon {\r\n+*/deep/ .el-step__icon {\r\n   font-size: 12px;\r\n }\r\n </style>\r\n"
                },
                {
                    "date": 1644598188438,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,9 +16,9 @@\n         title=\"添加商品信息\"\r\n         type=\"info\"\r\n       >\r\n       </el-alert>\r\n-      <el-steps :space=\"200\" :active=\"1\" finish-status=\"success\" align-center>\r\n+      <el-steps :space=\"200\" :active=\"activeIndex\" finish-status=\"success\" align-center>\r\n         <el-step title=\"基本信息\"></el-step>\r\n         <el-step title=\"商品参数\"></el-step>\r\n         <el-step title=\"商品属性\"></el-step>\r\n         <el-step title=\"商品图片\"></el-step>\r\n@@ -30,9 +30,14 @@\n </template>\r\n \r\n <script>\r\n export default {\r\n-  name: 'Add'\r\n+  name: 'Add',\r\n+  data(){\r\n+    return {\r\n+      activeIndex:0\r\n+    }\r\n+  }\r\n }\r\n </script>\r\n \r\n <style  scoped>\r\n"
                },
                {
                    "date": 1644599281685,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,8 +24,14 @@\n         <el-step title=\"商品图片\"></el-step>\r\n         <el-step title=\"商品内容\"></el-step>\r\n         <el-step title=\"完成\"></el-step>\r\n       </el-steps>\r\n+       <el-tabs tab-position=\"left\" style=\"height: 200px;\">\r\n+    <el-tab-pane label=\"用户管理\">用户管理</el-tab-pane>\r\n+    <el-tab-pane label=\"配置管理\">配置管理</el-tab-pane>\r\n+    <el-tab-pane label=\"角色管理\">角色管理</el-tab-pane>\r\n+    <el-tab-pane label=\"定时任务补偿\">定时任务补偿</el-tab-pane>\r\n+  </el-tabs>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n \r\n@@ -33,9 +39,9 @@\n export default {\r\n   name: 'Add',\r\n   data(){\r\n     return {\r\n-      activeIndex:0\r\n+      activeIndex:1\r\n     }\r\n   }\r\n }\r\n </script>\r\n"
                },
                {
                    "date": 1644599401945,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,32 +16,37 @@\n         title=\"添加商品信息\"\r\n         type=\"info\"\r\n       >\r\n       </el-alert>\r\n-      <el-steps :space=\"200\" :active=\"activeIndex\" finish-status=\"success\" align-center>\r\n+      <el-steps\r\n+        :space=\"200\"\r\n+        :active=\"activeIndex\"\r\n+        finish-status=\"success\"\r\n+        align-center\r\n+      >\r\n         <el-step title=\"基本信息\"></el-step>\r\n         <el-step title=\"商品参数\"></el-step>\r\n         <el-step title=\"商品属性\"></el-step>\r\n         <el-step title=\"商品图片\"></el-step>\r\n         <el-step title=\"商品内容\"></el-step>\r\n         <el-step title=\"完成\"></el-step>\r\n       </el-steps>\r\n-       <el-tabs tab-position=\"left\" style=\"height: 200px;\">\r\n-    <el-tab-pane label=\"用户管理\">用户管理</el-tab-pane>\r\n-    <el-tab-pane label=\"配置管理\">配置管理</el-tab-pane>\r\n-    <el-tab-pane label=\"角色管理\">角色管理</el-tab-pane>\r\n-    <el-tab-pane label=\"定时任务补偿\">定时任务补偿</el-tab-pane>\r\n-  </el-tabs>\r\n+      <el-tabs tab-position=\"left\" style=\"height: 200px\" v-model=\"activeIndex\">\r\n+        <el-tab-pane label=\"基本信息\">用户管理</el-tab-pane>\r\n+        <el-tab-pane label=\"商品参数\">配置管理</el-tab-pane>\r\n+        <el-tab-pane label=\"商品图片\">角色管理</el-tab-pane>\r\n+        <el-tab-pane label=\"商品内容\">定时任务补偿</el-tab-pane>\r\n+      </el-tabs>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n \r\n <script>\r\n export default {\r\n   name: 'Add',\r\n-  data(){\r\n+  data() {\r\n     return {\r\n-      activeIndex:1\r\n+      activeIndex: 1\r\n     }\r\n   }\r\n }\r\n </script>\r\n"
                },
                {
                    "date": 1644599451418,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,12 +30,12 @@\n         <el-step title=\"商品内容\"></el-step>\r\n         <el-step title=\"完成\"></el-step>\r\n       </el-steps>\r\n       <el-tabs tab-position=\"left\" style=\"height: 200px\" v-model=\"activeIndex\">\r\n-        <el-tab-pane label=\"基本信息\">用户管理</el-tab-pane>\r\n-        <el-tab-pane label=\"商品参数\">配置管理</el-tab-pane>\r\n-        <el-tab-pane label=\"商品图片\">角色管理</el-tab-pane>\r\n-        <el-tab-pane label=\"商品内容\">定时任务补偿</el-tab-pane>\r\n+        <el-tab-pane label=\"基本信息\" name=\"0\">用户管理</el-tab-pane>\r\n+        <el-tab-pane label=\"商品参数\" name=\"1\">配置管理</el-tab-pane>\r\n+        <el-tab-pane label=\"商品图片\" name=\"2\">角色管理</el-tab-pane>\r\n+        <el-tab-pane label=\"商品内容\" name=\"3\">定时任务补偿</el-tab-pane>\r\n       </el-tabs>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n@@ -44,9 +44,9 @@\n export default {\r\n   name: 'Add',\r\n   data() {\r\n     return {\r\n-      activeIndex: 1\r\n+      activeIndex: 0\r\n     }\r\n   }\r\n }\r\n </script>\r\n"
                },
                {
                    "date": 1644599464738,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n export default {\r\n   name: 'Add',\r\n   data() {\r\n     return {\r\n-      activeIndex: 0\r\n+      activeIndex: '0'\r\n     }\r\n   }\r\n }\r\n </script>\r\n"
                },
                {
                    "date": 1644599501001,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,12 +30,12 @@\n         <el-step title=\"商品内容\"></el-step>\r\n         <el-step title=\"完成\"></el-step>\r\n       </el-steps>\r\n       <el-tabs tab-position=\"left\" style=\"height: 200px\" v-model=\"activeIndex\">\r\n-        <el-tab-pane label=\"基本信息\" name=\"0\">用户管理</el-tab-pane>\r\n-        <el-tab-pane label=\"商品参数\" name=\"1\">配置管理</el-tab-pane>\r\n-        <el-tab-pane label=\"商品图片\" name=\"2\">角色管理</el-tab-pane>\r\n-        <el-tab-pane label=\"商品内容\" name=\"3\">定时任务补偿</el-tab-pane>\r\n+        <el-tab-pane label=\"基本信息\" :name=\"0\">用户管理</el-tab-pane>\r\n+        <el-tab-pane label=\"商品参数\" :name=\"1\">配置管理</el-tab-pane>\r\n+        <el-tab-pane label=\"商品图片\" :name=\"2\">角色管理</el-tab-pane>\r\n+        <el-tab-pane label=\"商品内容\" :name=\"3\">定时任务补偿</el-tab-pane>\r\n       </el-tabs>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n@@ -44,9 +44,9 @@\n export default {\r\n   name: 'Add',\r\n   data() {\r\n     return {\r\n-      activeIndex: '0'\r\n+      activeIndex: 0\r\n     }\r\n   }\r\n }\r\n </script>\r\n"
                },
                {
                    "date": 1644599513238,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,12 +30,12 @@\n         <el-step title=\"商品内容\"></el-step>\r\n         <el-step title=\"完成\"></el-step>\r\n       </el-steps>\r\n       <el-tabs tab-position=\"left\" style=\"height: 200px\" v-model=\"activeIndex\">\r\n-        <el-tab-pane label=\"基本信息\" :name=\"0\">用户管理</el-tab-pane>\r\n-        <el-tab-pane label=\"商品参数\" :name=\"1\">配置管理</el-tab-pane>\r\n-        <el-tab-pane label=\"商品图片\" :name=\"2\">角色管理</el-tab-pane>\r\n-        <el-tab-pane label=\"商品内容\" :name=\"3\">定时任务补偿</el-tab-pane>\r\n+        <el-tab-pane label=\"基本信息\" name=\"0\">用户管理</el-tab-pane>\r\n+        <el-tab-pane label=\"商品参数\" name=\"1\">配置管理</el-tab-pane>\r\n+        <el-tab-pane label=\"商品图片\" name=\"2\">角色管理</el-tab-pane>\r\n+        <el-tab-pane label=\"商品内容\" name=\"3\">定时任务补偿</el-tab-pane>\r\n       </el-tabs>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n"
                },
                {
                    "date": 1644599535884,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,9 @@\n       >\r\n       </el-alert>\r\n       <el-steps\r\n         :space=\"200\"\r\n-        :active=\"activeIndex\"\r\n+        :active=\"activeIndex-0\"\r\n         finish-status=\"success\"\r\n         align-center\r\n       >\r\n         <el-step title=\"基本信息\"></el-step>\r\n"
                },
                {
                    "date": 1644599766605,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,14 +29,16 @@\n         <el-step title=\"商品图片\"></el-step>\r\n         <el-step title=\"商品内容\"></el-step>\r\n         <el-step title=\"完成\"></el-step>\r\n       </el-steps>\r\n+      <el-form :model=\"addItemForm\" ref=\"addItemForm\"  :rules=\"addItemRules\" label-width=\"100px\">\r\n       <el-tabs tab-position=\"left\" style=\"height: 200px\" v-model=\"activeIndex\">\r\n         <el-tab-pane label=\"基本信息\" name=\"0\">用户管理</el-tab-pane>\r\n         <el-tab-pane label=\"商品参数\" name=\"1\">配置管理</el-tab-pane>\r\n         <el-tab-pane label=\"商品图片\" name=\"2\">角色管理</el-tab-pane>\r\n         <el-tab-pane label=\"商品内容\" name=\"3\">定时任务补偿</el-tab-pane>\r\n       </el-tabs>\r\n+      </el-form>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n \r\n@@ -44,9 +46,11 @@\n export default {\r\n   name: 'Add',\r\n   data() {\r\n     return {\r\n-      activeIndex: 0\r\n+      activeIndex: 0,\r\n+      addItemRules:[],\r\n+      addItemForm:[]\r\n     }\r\n   }\r\n }\r\n </script>\r\n"
                },
                {
                    "date": 1644599797549,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,10 +47,10 @@\n   name: 'Add',\r\n   data() {\r\n     return {\r\n       activeIndex: 0,\r\n-      addItemRules:[],\r\n-      addItemForm:[]\r\n+      addItemRules:{},\r\n+      addItemForm:{}\r\n     }\r\n   }\r\n }\r\n </script>\r\n"
                },
                {
                    "date": 1644599938607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,26 @@\n         <el-step title=\"完成\"></el-step>\r\n       </el-steps>\r\n       <el-form :model=\"addItemForm\" ref=\"addItemForm\"  :rules=\"addItemRules\" label-width=\"100px\">\r\n       <el-tabs tab-position=\"left\" style=\"height: 200px\" v-model=\"activeIndex\">\r\n-        <el-tab-pane label=\"基本信息\" name=\"0\">用户管理</el-tab-pane>\r\n+        <el-tab-pane label=\"基本信息\" name=\"0\">\r\n+          <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n+              <el-input v-model=\"addItemForm.goods_name\"></el-input>\r\n+            </el-form-item>\r\n+            <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n+              <el-input v-model=\"addItemForm.goods_price\" type=\"number\"></el-input>\r\n+            </el-form-item>\r\n+            <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n+              <el-input v-model=\"addItemForm.goods_weight\" type=\"number\"></el-input>\r\n+            </el-form-item>\r\n+            <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n+              <el-input v-model=\"addItemForm.goods_number\" type=\"number\"></el-input>\r\n+            </el-form-item>\r\n+            <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n+              <!--  选择商品分类区域 -->\r\n+             \r\n+            </el-form-item>\r\n+        </el-tab-pane>\r\n         <el-tab-pane label=\"商品参数\" name=\"1\">配置管理</el-tab-pane>\r\n         <el-tab-pane label=\"商品图片\" name=\"2\">角色管理</el-tab-pane>\r\n         <el-tab-pane label=\"商品内容\" name=\"3\">定时任务补偿</el-tab-pane>\r\n       </el-tabs>\r\n@@ -48,9 +65,15 @@\n   data() {\r\n     return {\r\n       activeIndex: 0,\r\n       addItemRules:{},\r\n-      addItemForm:{}\r\n+      addItemForm:{\r\n+        goods_name:'',\r\n+        goods_price:'',\r\n+        goods_weight:'',\r\n+        goods_number:'',\r\n+        goods_cat:''\r\n+      }\r\n     }\r\n   }\r\n }\r\n </script>\r\n"
                },
                {
                    "date": 1644600120046,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n <template>\r\n-  <div>\r\n+  <div style=\"height:100%;\">\r\n     <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n       <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n       <el-breadcrumb-item :to=\"{ path: '/goods' }\">商品管理</el-breadcrumb-item>\r\n       <el-breadcrumb-item :to=\"{ path: '/goods/add' }\"\r\n"
                },
                {
                    "date": 1644600426404,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n <template>\r\n-  <div style=\"height:100%;\">\r\n+  <div>\r\n     <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n       <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n       <el-breadcrumb-item :to=\"{ path: '/goods' }\">商品管理</el-breadcrumb-item>\r\n       <el-breadcrumb-item :to=\"{ path: '/goods/add' }\"\r\n@@ -30,9 +30,9 @@\n         <el-step title=\"商品内容\"></el-step>\r\n         <el-step title=\"完成\"></el-step>\r\n       </el-steps>\r\n       <el-form :model=\"addItemForm\" ref=\"addItemForm\"  :rules=\"addItemRules\" label-width=\"100px\">\r\n-      <el-tabs tab-position=\"left\" style=\"height: 200px\" v-model=\"activeIndex\">\r\n+      <el-tabs tab-position=\"left\" v-model=\"activeIndex\">\r\n         <el-tab-pane label=\"基本信息\" name=\"0\">\r\n           <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n               <el-input v-model=\"addItemForm.goods_name\"></el-input>\r\n             </el-form-item>\r\n"
                },
                {
                    "date": 1644600783489,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,10 @@\n               <el-input v-model=\"addItemForm.goods_number\" type=\"number\"></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n               <!--  选择商品分类区域 -->\r\n-             \r\n+             <el-cascader :options=\"categoriesData\" clearable :props=\"{label:'cat_name',value:'cat_pid',children:'children'}\"></el-cascader>\r\n+\r\n             </el-form-item>\r\n         </el-tab-pane>\r\n         <el-tab-pane label=\"商品参数\" name=\"1\">配置管理</el-tab-pane>\r\n         <el-tab-pane label=\"商品图片\" name=\"2\">角色管理</el-tab-pane>\r\n@@ -71,10 +72,22 @@\n         goods_price:'',\r\n         goods_weight:'',\r\n         goods_number:'',\r\n         goods_cat:''\r\n-      }\r\n+      },\r\n+      categoriesData:[]\r\n     }\r\n+  },\r\n+  methods:{\r\n+    categoriesList(){\r\n+      this.$api.shop.goCategoriesList().then(res=>{\r\n+        if(!this.$fn.error) return;\r\n+        this.categoriesData = this.data\r\n+      })\r\n+    }\r\n+  },\r\n+  mounted(){\r\n+    this.categoriesList()\r\n   }\r\n }\r\n </script>\r\n \r\n"
                },
                {
                    "date": 1644600871372,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,9 +80,9 @@\n   methods:{\r\n     categoriesList(){\r\n       this.$api.shop.goCategoriesList().then(res=>{\r\n         if(!this.$fn.error) return;\r\n-        this.categoriesData = this.data\r\n+        this.categoriesData = res.data\r\n       })\r\n     }\r\n   },\r\n   mounted(){\r\n"
                },
                {
                    "date": 1644601208950,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,9 @@\n               <el-input v-model=\"addItemForm.goods_number\" type=\"number\"></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n               <!--  选择商品分类区域 -->\r\n-             <el-cascader :options=\"categoriesData\" clearable :props=\"{label:'cat_name',value:'cat_pid',children:'children'}\"></el-cascader>\r\n+             <el-cascader :options=\"categoriesData\" clearable :props=\"{label:'cat_name',value:'cat_pid',children:'children'}\" @change=\"selectGoods\" v-model=\"addItemForm.goods_cat\"></el-cascader>\r\n \r\n             </el-form-item>\r\n         </el-tab-pane>\r\n         <el-tab-pane label=\"商品参数\" name=\"1\">配置管理</el-tab-pane>\r\n@@ -71,9 +71,9 @@\n         goods_name:'',\r\n         goods_price:'',\r\n         goods_weight:'',\r\n         goods_number:'',\r\n-        goods_cat:''\r\n+        goods_cat:[]\r\n       },\r\n       categoriesData:[]\r\n     }\r\n   },\r\n@@ -82,12 +82,16 @@\n       this.$api.shop.goCategoriesList().then(res=>{\r\n         if(!this.$fn.error) return;\r\n         this.categoriesData = res.data\r\n       })\r\n+    },\r\n+    selectGoods(val){\r\n+\r\n     }\r\n   },\r\n   mounted(){\r\n-    this.categoriesList()\r\n+    this.categoriesList(),\r\n+    \r\n   }\r\n }\r\n </script>\r\n \r\n"
                },
                {
                    "date": 1644601315705,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,8 +76,9 @@\n       },\r\n       categoriesData:[]\r\n     }\r\n   },\r\n+  \r\n   methods:{\r\n     categoriesList(){\r\n       this.$api.shop.goCategoriesList().then(res=>{\r\n         if(!this.$fn.error) return;\r\n@@ -87,12 +88,9 @@\n     selectGoods(val){\r\n \r\n     }\r\n   },\r\n-  mounted(){\r\n-    this.categoriesList(),\r\n-    \r\n-  }\r\n+  \r\n }\r\n </script>\r\n \r\n <style  scoped>\r\n"
                },
                {
                    "date": 1644601332681,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,8 +88,11 @@\n     selectGoods(val){\r\n \r\n     }\r\n   },\r\n+  mounted(){\r\n+    this.categoriesList()\r\n+  }\r\n   \r\n }\r\n </script>\r\n \r\n"
                },
                {
                    "date": 1644601402276,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,9 +85,11 @@\n         this.categoriesData = res.data\r\n       })\r\n     },\r\n     selectGoods(val){\r\n-\r\n+      if(val.length!==3){\r\n+        this.addItemForm.goods_cat =[]\r\n+      }\r\n     }\r\n   },\r\n   mounted(){\r\n     this.categoriesList()\r\n"
                },
                {
                    "date": 1644601517391,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,9 +65,45 @@\n   name: 'Add',\r\n   data() {\r\n     return {\r\n       activeIndex: 0,\r\n-      addItemRules:{},\r\n+      addItemRules:{\r\n+        goods_name: [\r\n+          {\r\n+            required: true,\r\n+            message: '请输入商品名称',\r\n+            trigger: 'blur'\r\n+          }\r\n+        ],\r\n+        goods_price: [\r\n+          {\r\n+            required: true,\r\n+            message: '请输入商品价格',\r\n+            trigger: 'blur'\r\n+          }\r\n+        ],\r\n+        goods_weight: [\r\n+          {\r\n+            required: true,\r\n+            message: '请输入商品重量',\r\n+            trigger: 'blur'\r\n+          }\r\n+        ],\r\n+        goods_number: [\r\n+          {\r\n+            required: true,\r\n+            message: '请输入商品数量',\r\n+            trigger: 'blur'\r\n+          }\r\n+        ],\r\n+        goods_cat: [\r\n+          {\r\n+            required: true,\r\n+            message: '请输入商品分类',\r\n+            trigger: 'blur'\r\n+          }\r\n+        ]\r\n+      },\r\n       addItemForm:{\r\n         goods_name:'',\r\n         goods_price:'',\r\n         goods_weight:'',\r\n"
                },
                {
                    "date": 1644601573635,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -143,5 +143,8 @@\n }\r\n */deep/ .el-step__icon {\r\n   font-size: 12px;\r\n }\r\n+.el-cascader {\r\n+  width: 100%;\r\n+}\r\n </style>\r\n"
                },
                {
                    "date": 1644601586661,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -143,8 +143,8 @@\n }\r\n */deep/ .el-step__icon {\r\n   font-size: 12px;\r\n }\r\n-.el-cascader {\r\n+/* .el-cascader {\r\n   width: 100%;\r\n-}\r\n+} */\r\n </style>\r\n"
                },
                {
                    "date": 1644601705066,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         <el-step title=\"商品内容\"></el-step>\r\n         <el-step title=\"完成\"></el-step>\r\n       </el-steps>\r\n       <el-form :model=\"addItemForm\" ref=\"addItemForm\"  :rules=\"addItemRules\" label-width=\"100px\">\r\n-      <el-tabs tab-position=\"left\" v-model=\"activeIndex\">\r\n+      <el-tabs tab-position=\"left\" v-model=\"activeIndex\" :before-leave=\"beforeSwitchTab\">\r\n         <el-tab-pane label=\"基本信息\" name=\"0\">\r\n           <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n               <el-input v-model=\"addItemForm.goods_name\"></el-input>\r\n             </el-form-item>\r\n@@ -124,8 +124,11 @@\n     selectGoods(val){\r\n       if(val.length!==3){\r\n         this.addItemForm.goods_cat =[]\r\n       }\r\n+    },\r\n+    beforeSwitchTab(active,old){\r\n+      console.log(active,old,11);\r\n     }\r\n   },\r\n   mounted(){\r\n     this.categoriesList()\r\n"
                },
                {
                    "date": 1644601802341,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,8 +127,9 @@\n       }\r\n     },\r\n     beforeSwitchTab(active,old){\r\n       console.log(active,old,11);\r\n+      return false;\r\n     }\r\n   },\r\n   mounted(){\r\n     this.categoriesList()\r\n"
                },
                {
                    "date": 1644601901321,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,9 +127,12 @@\n       }\r\n     },\r\n     beforeSwitchTab(active,old){\r\n       console.log(active,old,11);\r\n+      if(old===0 && this.addItemForm.goods_cat.length!==3){\r\n       return false;\r\n+\r\n+      }\r\n     }\r\n   },\r\n   mounted(){\r\n     this.categoriesList()\r\n"
                },
                {
                    "date": 1644602031142,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,9 @@\n       >\r\n       </el-alert>\r\n       <el-steps\r\n         :space=\"200\"\r\n-        :active=\"activeIndex-0\"\r\n+        :active=\"activeIndex - 0\"\r\n         finish-status=\"success\"\r\n         align-center\r\n       >\r\n         <el-step title=\"基本信息\"></el-step>\r\n@@ -29,33 +29,60 @@\n         <el-step title=\"商品图片\"></el-step>\r\n         <el-step title=\"商品内容\"></el-step>\r\n         <el-step title=\"完成\"></el-step>\r\n       </el-steps>\r\n-      <el-form :model=\"addItemForm\" ref=\"addItemForm\"  :rules=\"addItemRules\" label-width=\"100px\">\r\n-      <el-tabs tab-position=\"left\" v-model=\"activeIndex\" :before-leave=\"beforeSwitchTab\">\r\n-        <el-tab-pane label=\"基本信息\" name=\"0\">\r\n-          <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n+      <el-form\r\n+        :model=\"addItemForm\"\r\n+        ref=\"addItemForm\"\r\n+        :rules=\"addItemRules\"\r\n+        label-width=\"100px\"\r\n+      >\r\n+        <el-tabs\r\n+          tab-position=\"left\"\r\n+          v-model=\"activeIndex\"\r\n+          :before-leave=\"beforeSwitchTab\"\r\n+        >\r\n+          <el-tab-pane label=\"基本信息\" name=\"0\">\r\n+            <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n               <el-input v-model=\"addItemForm.goods_name\"></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n-              <el-input v-model=\"addItemForm.goods_price\" type=\"number\"></el-input>\r\n+              <el-input\r\n+                v-model=\"addItemForm.goods_price\"\r\n+                type=\"number\"\r\n+              ></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n-              <el-input v-model=\"addItemForm.goods_weight\" type=\"number\"></el-input>\r\n+              <el-input\r\n+                v-model=\"addItemForm.goods_weight\"\r\n+                type=\"number\"\r\n+              ></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n-              <el-input v-model=\"addItemForm.goods_number\" type=\"number\"></el-input>\r\n+              <el-input\r\n+                v-model=\"addItemForm.goods_number\"\r\n+                type=\"number\"\r\n+              ></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n               <!--  选择商品分类区域 -->\r\n-             <el-cascader :options=\"categoriesData\" clearable :props=\"{label:'cat_name',value:'cat_pid',children:'children'}\" @change=\"selectGoods\" v-model=\"addItemForm.goods_cat\"></el-cascader>\r\n-\r\n+              <el-cascader\r\n+                :options=\"categoriesData\"\r\n+                clearable\r\n+                :props=\"{\r\n+                  label: 'cat_name',\r\n+                  value: 'cat_pid',\r\n+                  children: 'children'\r\n+                }\"\r\n+                @change=\"selectGoods\"\r\n+                v-model=\"addItemForm.goods_cat\"\r\n+              ></el-cascader>\r\n             </el-form-item>\r\n-        </el-tab-pane>\r\n-        <el-tab-pane label=\"商品参数\" name=\"1\">配置管理</el-tab-pane>\r\n-        <el-tab-pane label=\"商品图片\" name=\"2\">角色管理</el-tab-pane>\r\n-        <el-tab-pane label=\"商品内容\" name=\"3\">定时任务补偿</el-tab-pane>\r\n-      </el-tabs>\r\n+          </el-tab-pane>\r\n+          <el-tab-pane label=\"商品参数\" name=\"1\">配置管理</el-tab-pane>\r\n+          <el-tab-pane label=\"商品图片\" name=\"2\">角色管理</el-tab-pane>\r\n+          <el-tab-pane label=\"商品内容\" name=\"3\">定时任务补偿</el-tab-pane>\r\n+        </el-tabs>\r\n       </el-form>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n@@ -65,9 +92,9 @@\n   name: 'Add',\r\n   data() {\r\n     return {\r\n       activeIndex: 0,\r\n-      addItemRules:{\r\n+      addItemRules: {\r\n         goods_name: [\r\n           {\r\n             required: true,\r\n             message: '请输入商品名称',\r\n@@ -102,43 +129,47 @@\n             trigger: 'blur'\r\n           }\r\n         ]\r\n       },\r\n-      addItemForm:{\r\n-        goods_name:'',\r\n-        goods_price:'',\r\n-        goods_weight:'',\r\n-        goods_number:'',\r\n-        goods_cat:[]\r\n+      addItemForm: {\r\n+        goods_name: '',\r\n+        goods_price: '',\r\n+        goods_weight: '',\r\n+        goods_number: '',\r\n+        goods_cat: []\r\n       },\r\n-      categoriesData:[]\r\n+      categoriesData: []\r\n     }\r\n   },\r\n-  \r\n-  methods:{\r\n-    categoriesList(){\r\n-      this.$api.shop.goCategoriesList().then(res=>{\r\n-        if(!this.$fn.error) return;\r\n+\r\n+  methods: {\r\n+    categoriesList() {\r\n+      this.$api.shop.goCategoriesList().then((res) => {\r\n+        if (!this.$fn.error) return\r\n         this.categoriesData = res.data\r\n       })\r\n     },\r\n-    selectGoods(val){\r\n-      if(val.length!==3){\r\n-        this.addItemForm.goods_cat =[]\r\n+    selectGoods(val) {\r\n+      if (val.length !== 3) {\r\n+        this.addItemForm.goods_cat = []\r\n       }\r\n     },\r\n-    beforeSwitchTab(active,old){\r\n-      console.log(active,old,11);\r\n-      if(old===0 && this.addItemForm.goods_cat.length!==3){\r\n-      return false;\r\n-\r\n+    beforeSwitchTab(active, old) {\r\n+      console.log(active, old, 11)\r\n+      if (old === 0) {\r\n+        this.$refs.addItemForm.validate((valid) => {\r\n+          if (valid) {\r\n+          } else {\r\n+            console.log('error submit!!')\r\n+            return false\r\n+          }\r\n+        })\r\n       }\r\n     }\r\n   },\r\n-  mounted(){\r\n+  mounted() {\r\n     this.categoriesList()\r\n   }\r\n-  \r\n }\r\n </script>\r\n \r\n <style  scoped>\r\n"
                },
                {
                    "date": 1644602084651,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,9 @@\n       >\r\n       </el-alert>\r\n       <el-steps\r\n         :space=\"200\"\r\n-        :active=\"activeIndex - 0\"\r\n+        :active=\"activeIndex-0\"\r\n         finish-status=\"success\"\r\n         align-center\r\n       >\r\n         <el-step title=\"基本信息\"></el-step>\r\n@@ -29,60 +29,33 @@\n         <el-step title=\"商品图片\"></el-step>\r\n         <el-step title=\"商品内容\"></el-step>\r\n         <el-step title=\"完成\"></el-step>\r\n       </el-steps>\r\n-      <el-form\r\n-        :model=\"addItemForm\"\r\n-        ref=\"addItemForm\"\r\n-        :rules=\"addItemRules\"\r\n-        label-width=\"100px\"\r\n-      >\r\n-        <el-tabs\r\n-          tab-position=\"left\"\r\n-          v-model=\"activeIndex\"\r\n-          :before-leave=\"beforeSwitchTab\"\r\n-        >\r\n-          <el-tab-pane label=\"基本信息\" name=\"0\">\r\n-            <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n+      <el-form :model=\"addItemForm\" ref=\"addItemForm\"  :rules=\"addItemRules\" label-width=\"100px\">\r\n+      <el-tabs tab-position=\"left\" v-model=\"activeIndex\" :before-leave=\"beforeSwitchTab\">\r\n+        <el-tab-pane label=\"基本信息\" name=\"0\">\r\n+          <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n               <el-input v-model=\"addItemForm.goods_name\"></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n-              <el-input\r\n-                v-model=\"addItemForm.goods_price\"\r\n-                type=\"number\"\r\n-              ></el-input>\r\n+              <el-input v-model=\"addItemForm.goods_price\" type=\"number\"></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n-              <el-input\r\n-                v-model=\"addItemForm.goods_weight\"\r\n-                type=\"number\"\r\n-              ></el-input>\r\n+              <el-input v-model=\"addItemForm.goods_weight\" type=\"number\"></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n-              <el-input\r\n-                v-model=\"addItemForm.goods_number\"\r\n-                type=\"number\"\r\n-              ></el-input>\r\n+              <el-input v-model=\"addItemForm.goods_number\" type=\"number\"></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n               <!--  选择商品分类区域 -->\r\n-              <el-cascader\r\n-                :options=\"categoriesData\"\r\n-                clearable\r\n-                :props=\"{\r\n-                  label: 'cat_name',\r\n-                  value: 'cat_pid',\r\n-                  children: 'children'\r\n-                }\"\r\n-                @change=\"selectGoods\"\r\n-                v-model=\"addItemForm.goods_cat\"\r\n-              ></el-cascader>\r\n+             <el-cascader :options=\"categoriesData\" clearable :props=\"{label:'cat_name',value:'cat_pid',children:'children'}\" @change=\"selectGoods\" v-model=\"addItemForm.goods_cat\"></el-cascader>\r\n+\r\n             </el-form-item>\r\n-          </el-tab-pane>\r\n-          <el-tab-pane label=\"商品参数\" name=\"1\">配置管理</el-tab-pane>\r\n-          <el-tab-pane label=\"商品图片\" name=\"2\">角色管理</el-tab-pane>\r\n-          <el-tab-pane label=\"商品内容\" name=\"3\">定时任务补偿</el-tab-pane>\r\n-        </el-tabs>\r\n+        </el-tab-pane>\r\n+        <el-tab-pane label=\"商品参数\" name=\"1\">配置管理</el-tab-pane>\r\n+        <el-tab-pane label=\"商品图片\" name=\"2\">角色管理</el-tab-pane>\r\n+        <el-tab-pane label=\"商品内容\" name=\"3\">定时任务补偿</el-tab-pane>\r\n+      </el-tabs>\r\n       </el-form>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n@@ -92,9 +65,9 @@\n   name: 'Add',\r\n   data() {\r\n     return {\r\n       activeIndex: 0,\r\n-      addItemRules: {\r\n+      addItemRules:{\r\n         goods_name: [\r\n           {\r\n             required: true,\r\n             message: '请输入商品名称',\r\n@@ -129,47 +102,43 @@\n             trigger: 'blur'\r\n           }\r\n         ]\r\n       },\r\n-      addItemForm: {\r\n-        goods_name: '',\r\n-        goods_price: '',\r\n-        goods_weight: '',\r\n-        goods_number: '',\r\n-        goods_cat: []\r\n+      addItemForm:{\r\n+        goods_name:'',\r\n+        goods_price:'',\r\n+        goods_weight:'',\r\n+        goods_number:'',\r\n+        goods_cat:[]\r\n       },\r\n-      categoriesData: []\r\n+      categoriesData:[]\r\n     }\r\n   },\r\n-\r\n-  methods: {\r\n-    categoriesList() {\r\n-      this.$api.shop.goCategoriesList().then((res) => {\r\n-        if (!this.$fn.error) return\r\n+  \r\n+  methods:{\r\n+    categoriesList(){\r\n+      this.$api.shop.goCategoriesList().then(res=>{\r\n+        if(!this.$fn.error) return;\r\n         this.categoriesData = res.data\r\n       })\r\n     },\r\n-    selectGoods(val) {\r\n-      if (val.length !== 3) {\r\n-        this.addItemForm.goods_cat = []\r\n+    selectGoods(val){\r\n+      if(val.length!==3){\r\n+        this.addItemForm.goods_cat =[]\r\n       }\r\n     },\r\n-    beforeSwitchTab(active, old) {\r\n-      console.log(active, old, 11)\r\n-      if (old === 0) {\r\n-        this.$refs.addItemForm.validate((valid) => {\r\n-          if (valid) {\r\n-          } else {\r\n-            console.log('error submit!!')\r\n-            return false\r\n-          }\r\n-        })\r\n+    beforeSwitchTab(active,old){\r\n+      console.log(active,old,11);\r\n+      if(old===0 && this.addItemForm.goods_cat.length!==3){\r\n+      return false;\r\n+\r\n       }\r\n     }\r\n   },\r\n-  mounted() {\r\n+  mounted(){\r\n     this.categoriesList()\r\n   }\r\n+  \r\n }\r\n </script>\r\n \r\n <style  scoped>\r\n"
                },
                {
                    "date": 1644602112619,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,9 @@\n       >\r\n       </el-alert>\r\n       <el-steps\r\n         :space=\"200\"\r\n-        :active=\"activeIndex-0\"\r\n+        :active=\"activeIndex - 0\"\r\n         finish-status=\"success\"\r\n         align-center\r\n       >\r\n         <el-step title=\"基本信息\"></el-step>\r\n@@ -29,33 +29,60 @@\n         <el-step title=\"商品图片\"></el-step>\r\n         <el-step title=\"商品内容\"></el-step>\r\n         <el-step title=\"完成\"></el-step>\r\n       </el-steps>\r\n-      <el-form :model=\"addItemForm\" ref=\"addItemForm\"  :rules=\"addItemRules\" label-width=\"100px\">\r\n-      <el-tabs tab-position=\"left\" v-model=\"activeIndex\" :before-leave=\"beforeSwitchTab\">\r\n-        <el-tab-pane label=\"基本信息\" name=\"0\">\r\n-          <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n+      <el-form\r\n+        :model=\"addItemForm\"\r\n+        ref=\"addItemForm\"\r\n+        :rules=\"addItemRules\"\r\n+        label-width=\"100px\"\r\n+      >\r\n+        <el-tabs\r\n+          tab-position=\"left\"\r\n+          v-model=\"activeIndex\"\r\n+          :before-leave=\"beforeSwitchTab\"\r\n+        >\r\n+          <el-tab-pane label=\"基本信息\" name=\"0\">\r\n+            <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n               <el-input v-model=\"addItemForm.goods_name\"></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n-              <el-input v-model=\"addItemForm.goods_price\" type=\"number\"></el-input>\r\n+              <el-input\r\n+                v-model=\"addItemForm.goods_price\"\r\n+                type=\"number\"\r\n+              ></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n-              <el-input v-model=\"addItemForm.goods_weight\" type=\"number\"></el-input>\r\n+              <el-input\r\n+                v-model=\"addItemForm.goods_weight\"\r\n+                type=\"number\"\r\n+              ></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n-              <el-input v-model=\"addItemForm.goods_number\" type=\"number\"></el-input>\r\n+              <el-input\r\n+                v-model=\"addItemForm.goods_number\"\r\n+                type=\"number\"\r\n+              ></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n               <!--  选择商品分类区域 -->\r\n-             <el-cascader :options=\"categoriesData\" clearable :props=\"{label:'cat_name',value:'cat_pid',children:'children'}\" @change=\"selectGoods\" v-model=\"addItemForm.goods_cat\"></el-cascader>\r\n-\r\n+              <el-cascader\r\n+                :options=\"categoriesData\"\r\n+                clearable\r\n+                :props=\"{\r\n+                  label: 'cat_name',\r\n+                  value: 'cat_pid',\r\n+                  children: 'children'\r\n+                }\"\r\n+                @change=\"selectGoods\"\r\n+                v-model=\"addItemForm.goods_cat\"\r\n+              ></el-cascader>\r\n             </el-form-item>\r\n-        </el-tab-pane>\r\n-        <el-tab-pane label=\"商品参数\" name=\"1\">配置管理</el-tab-pane>\r\n-        <el-tab-pane label=\"商品图片\" name=\"2\">角色管理</el-tab-pane>\r\n-        <el-tab-pane label=\"商品内容\" name=\"3\">定时任务补偿</el-tab-pane>\r\n-      </el-tabs>\r\n+          </el-tab-pane>\r\n+          <el-tab-pane label=\"商品参数\" name=\"1\">配置管理</el-tab-pane>\r\n+          <el-tab-pane label=\"商品图片\" name=\"2\">角色管理</el-tab-pane>\r\n+          <el-tab-pane label=\"商品内容\" name=\"3\">定时任务补偿</el-tab-pane>\r\n+        </el-tabs>\r\n       </el-form>\r\n     </el-card>\r\n   </div>\r\n </template>\r\n@@ -65,9 +92,9 @@\n   name: 'Add',\r\n   data() {\r\n     return {\r\n       activeIndex: 0,\r\n-      addItemRules:{\r\n+      addItemRules: {\r\n         goods_name: [\r\n           {\r\n             required: true,\r\n             message: '请输入商品名称',\r\n@@ -102,43 +129,41 @@\n             trigger: 'blur'\r\n           }\r\n         ]\r\n       },\r\n-      addItemForm:{\r\n-        goods_name:'',\r\n-        goods_price:'',\r\n-        goods_weight:'',\r\n-        goods_number:'',\r\n-        goods_cat:[]\r\n+      addItemForm: {\r\n+        goods_name: '',\r\n+        goods_price: '',\r\n+        goods_weight: '',\r\n+        goods_number: '',\r\n+        goods_cat: []\r\n       },\r\n-      categoriesData:[]\r\n+      categoriesData: []\r\n     }\r\n   },\r\n-  \r\n-  methods:{\r\n-    categoriesList(){\r\n-      this.$api.shop.goCategoriesList().then(res=>{\r\n-        if(!this.$fn.error) return;\r\n+\r\n+  methods: {\r\n+    categoriesList() {\r\n+      this.$api.shop.goCategoriesList().then((res) => {\r\n+        if (!this.$fn.error) return\r\n         this.categoriesData = res.data\r\n       })\r\n     },\r\n-    selectGoods(val){\r\n-      if(val.length!==3){\r\n-        this.addItemForm.goods_cat =[]\r\n+    selectGoods(val) {\r\n+      if (val.length !== 3) {\r\n+        this.addItemForm.goods_cat = []\r\n       }\r\n     },\r\n-    beforeSwitchTab(active,old){\r\n-      console.log(active,old,11);\r\n-      if(old===0 && this.addItemForm.goods_cat.length!==3){\r\n-      return false;\r\n-\r\n+    beforeSwitchTab(active, old) {\r\n+      console.log(active, typeof old, 11)\r\n+      if (old === 0 && this.addItemForm.goods_cat.length !== 3) {\r\n+        return false\r\n       }\r\n     }\r\n   },\r\n-  mounted(){\r\n+  mounted() {\r\n     this.categoriesList()\r\n   }\r\n-  \r\n }\r\n </script>\r\n \r\n <style  scoped>\r\n"
                },
                {
                    "date": 1644602124165,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -153,10 +153,10 @@\n         this.addItemForm.goods_cat = []\r\n       }\r\n     },\r\n     beforeSwitchTab(active, old) {\r\n-      console.log(active, typeof old, 11)\r\n-      if (old === 0 && this.addItemForm.goods_cat.length !== 3) {\r\n+      console.log(active,  old, 11)\r\n+      if (old === '0' && this.addItemForm.goods_cat.length !== 3) {\r\n         return false\r\n       }\r\n     }\r\n   },\r\n"
                },
                {
                    "date": 1644602154070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -155,8 +155,9 @@\n     },\r\n     beforeSwitchTab(active, old) {\r\n       console.log(active,  old, 11)\r\n       if (old === '0' && this.addItemForm.goods_cat.length !== 3) {\r\n+        this.$message.error('您有商品分类未选择')\r\n         return false\r\n       }\r\n     }\r\n   },\r\n"
                },
                {
                    "date": 1644602810037,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,8 +39,9 @@\n         <el-tabs\r\n           tab-position=\"left\"\r\n           v-model=\"activeIndex\"\r\n           :before-leave=\"beforeSwitchTab\"\r\n+          @tab-click=\"selectTab\"\r\n         >\r\n           <el-tab-pane label=\"基本信息\" name=\"0\">\r\n             <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n               <el-input v-model=\"addItemForm.goods_name\"></el-input>\r\n@@ -136,9 +137,10 @@\n         goods_weight: '',\r\n         goods_number: '',\r\n         goods_cat: []\r\n       },\r\n-      categoriesData: []\r\n+      categoriesData: [],\r\n+      attributesData:[]\r\n     }\r\n   },\r\n \r\n   methods: {\r\n@@ -153,17 +155,37 @@\n         this.addItemForm.goods_cat = []\r\n       }\r\n     },\r\n     beforeSwitchTab(active, old) {\r\n-      console.log(active,  old, 11)\r\n+      console.log(active, old, 11)\r\n       if (old === '0' && this.addItemForm.goods_cat.length !== 3) {\r\n         this.$message.error('您有商品分类未选择')\r\n         return false\r\n       }\r\n+    },\r\n+    attributesList() {\r\n+      this.$api.shop.getAttributes({id:this.cateId,sel:'many'}).then(res=>{\r\n+        if(!this.$fn.error) return;\r\n+        this.attributesData = res.data\r\n+        console.log(res.data);\r\n+      })\r\n+    },\r\n+    selectTab(){\r\n+      if(this.activeIndex === '1'){\r\n+        this.attributesList()\r\n+      }\r\n     }\r\n   },\r\n   mounted() {\r\n     this.categoriesList()\r\n+  },\r\n+  computed:{\r\n+    cateId(){\r\n+      if(this.addItemForm.goods_cat.length === 3) {\r\n+        return this.addItemForm.goods_cat[2]\r\n+      }\r\n+      return null\r\n+    }\r\n   }\r\n }\r\n </script>\r\n \r\n"
                },
                {
                    "date": 1644602948523,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,8 +150,10 @@\n         this.categoriesData = res.data\r\n       })\r\n     },\r\n     selectGoods(val) {\r\n+      console.log(val,111);\r\n+      return;\r\n       if (val.length !== 3) {\r\n         this.addItemForm.goods_cat = []\r\n       }\r\n     },\r\n"
                },
                {
                    "date": 1644603136924,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,8 +150,9 @@\n         this.categoriesData = res.data\r\n       })\r\n     },\r\n     selectGoods(val) {\r\n+      console.log(this.categoriesData);\r\n       console.log(val,111);\r\n       return;\r\n       if (val.length !== 3) {\r\n         this.addItemForm.goods_cat = []\r\n"
                },
                {
                    "date": 1644603259780,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,14 +150,14 @@\n         this.categoriesData = res.data\r\n       })\r\n     },\r\n     selectGoods(val) {\r\n-      console.log(this.categoriesData);\r\n+      // console.log(this.categoriesData);\r\n       console.log(val,111);\r\n-      return;\r\n-      if (val.length !== 3) {\r\n-        this.addItemForm.goods_cat = []\r\n-      }\r\n+      // return;\r\n+      // if (val.length !== 3) {\r\n+      //   this.addItemForm.goods_cat = []\r\n+      // }\r\n     },\r\n     beforeSwitchTab(active, old) {\r\n       console.log(active, old, 11)\r\n       if (old === '0' && this.addItemForm.goods_cat.length !== 3) {\r\n"
                },
                {
                    "date": 1644603498298,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -145,8 +145,9 @@\n \r\n   methods: {\r\n     categoriesList() {\r\n       this.$api.shop.goCategoriesList().then((res) => {\r\n+        console.log(res);\r\n         if (!this.$fn.error) return\r\n         this.categoriesData = res.data\r\n       })\r\n     },\r\n"
                },
                {
                    "date": 1644603702490,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,13 +68,9 @@\n               <!--  选择商品分类区域 -->\r\n               <el-cascader\r\n                 :options=\"categoriesData\"\r\n                 clearable\r\n-                :props=\"{\r\n-                  label: 'cat_name',\r\n-                  value: 'cat_pid',\r\n-                  children: 'children'\r\n-                }\"\r\n+                :props=\"cateProps\"\r\n                 @change=\"selectGoods\"\r\n                 v-model=\"addItemForm.goods_cat\"\r\n               ></el-cascader>\r\n             </el-form-item>\r\n@@ -130,8 +126,18 @@\n             trigger: 'blur'\r\n           }\r\n         ]\r\n       },\r\n+      cateProps: {\r\n+        // 指定选项标签的值: 选项对象的某个属性值\r\n+        label: 'cat_name',\r\n+        // 指定选项的值: 选项对象的某个属性值\r\n+        value: 'cat_id',\r\n+        // 指定选项的子选项\r\n+        children: 'children',\r\n+        // 从el-cascader标签的属性,中移动到这个cascadeProps中\r\n+        expandTrigger: 'hover'\r\n+      },\r\n       addItemForm: {\r\n         goods_name: '',\r\n         goods_price: '',\r\n         goods_weight: '',\r\n"
                },
                {
                    "date": 1644603728497,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -134,9 +134,9 @@\n         value: 'cat_id',\r\n         // 指定选项的子选项\r\n         children: 'children',\r\n         // 从el-cascader标签的属性,中移动到这个cascadeProps中\r\n-        expandTrigger: 'hover'\r\n+        // expandTrigger: 'hover'\r\n       },\r\n       addItemForm: {\r\n         goods_name: '',\r\n         goods_price: '',\r\n"
                },
                {
                    "date": 1644603866198,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,9 +68,13 @@\n               <!--  选择商品分类区域 -->\r\n               <el-cascader\r\n                 :options=\"categoriesData\"\r\n                 clearable\r\n-                :props=\"cateProps\"\r\n+                :props=\"{\r\n+                  label: 'cat_name',\r\n+                  value: 'cat_id',\r\n+                  children: 'children'\r\n+                }\"\r\n                 @change=\"selectGoods\"\r\n                 v-model=\"addItemForm.goods_cat\"\r\n               ></el-cascader>\r\n             </el-form-item>\r\n@@ -134,9 +138,9 @@\n         value: 'cat_id',\r\n         // 指定选项的子选项\r\n         children: 'children',\r\n         // 从el-cascader标签的属性,中移动到这个cascadeProps中\r\n-        // expandTrigger: 'hover'\r\n+        expandTrigger: 'hover'\r\n       },\r\n       addItemForm: {\r\n         goods_name: '',\r\n         goods_price: '',\r\n"
                },
                {
                    "date": 1644603988311,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,9 +78,16 @@\n                 v-model=\"addItemForm.goods_cat\"\r\n               ></el-cascader>\r\n             </el-form-item>\r\n           </el-tab-pane>\r\n-          <el-tab-pane label=\"商品参数\" name=\"1\">配置管理</el-tab-pane>\r\n+          <el-tab-pane label=\"商品参数\" name=\"1\">\r\n+            <el-form-item v-for=\"(item) in attributesData\" :key=\"item.attr_id\" :label=\"item.attr_name\">\r\n+              <!--复选框组-->\r\n+              <el-checkbox-group v-model=\"item.attr_vals\">\r\n+                <el-checkbox v-for=\"(cb,i)  in item.attr_vals\" :key=\"i\" :label=\"cb\" border size=\"small\"></el-checkbox>\r\n+              </el-checkbox-group>\r\n+            </el-form-item>\r\n+          </el-tab-pane>\r\n           <el-tab-pane label=\"商品图片\" name=\"2\">角色管理</el-tab-pane>\r\n           <el-tab-pane label=\"商品内容\" name=\"3\">定时任务补偿</el-tab-pane>\r\n         </el-tabs>\r\n       </el-form>\r\n"
                },
                {
                    "date": 1644604042498,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n               ></el-cascader>\r\n             </el-form-item>\r\n           </el-tab-pane>\r\n           <el-tab-pane label=\"商品参数\" name=\"1\">\r\n-            <el-form-item v-for=\"(item) in attributesData\" :key=\"item.attr_id\" :label=\"item.attr_name\">\r\n+            <el-form-item v-for=\"(item) in manyTableData\" :key=\"item.attr_id\" :label=\"item.attr_name\">\r\n               <!--复选框组-->\r\n               <el-checkbox-group v-model=\"item.attr_vals\">\r\n                 <el-checkbox v-for=\"(cb,i)  in item.attr_vals\" :key=\"i\" :label=\"cb\" border size=\"small\"></el-checkbox>\r\n               </el-checkbox-group>\r\n@@ -155,9 +155,9 @@\n         goods_number: '',\r\n         goods_cat: []\r\n       },\r\n       categoriesData: [],\r\n-      attributesData:[]\r\n+      manyTableData:[]\r\n     }\r\n   },\r\n \r\n   methods: {\r\n@@ -185,9 +185,9 @@\n     },\r\n     attributesList() {\r\n       this.$api.shop.getAttributes({id:this.cateId,sel:'many'}).then(res=>{\r\n         if(!this.$fn.error) return;\r\n-        this.attributesData = res.data\r\n+        this.manyTableData = res.data\r\n         console.log(res.data);\r\n       })\r\n     },\r\n     selectTab(){\r\n"
                },
                {
                    "date": 1644604057130,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -186,9 +186,9 @@\n     attributesList() {\r\n       this.$api.shop.getAttributes({id:this.cateId,sel:'many'}).then(res=>{\r\n         if(!this.$fn.error) return;\r\n         this.manyTableData = res.data\r\n-        console.log(res.data);\r\n+        console.log(res.data,111);\r\n       })\r\n     },\r\n     selectTab(){\r\n       if(this.activeIndex === '1'){\r\n"
                },
                {
                    "date": 1644604214850,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -149,12 +149,14 @@\n         expandTrigger: 'hover'\r\n       },\r\n       addItemForm: {\r\n         goods_name: '',\r\n-        goods_price: '',\r\n-        goods_weight: '',\r\n-        goods_number: '',\r\n-        goods_cat: []\r\n+        goods_price: 0,\r\n+        goods_weight: 0,\r\n+        goods_number: 0,\r\n+        goods_cat: [],\r\n+        goods_introduce: '',\r\n+\r\n       },\r\n       categoriesData: [],\r\n       manyTableData:[]\r\n     }\r\n"
                },
                {
                    "date": 1644604301264,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -187,8 +187,11 @@\n     },\r\n     attributesList() {\r\n       this.$api.shop.getAttributes({id:this.cateId,sel:'many'}).then(res=>{\r\n         if(!this.$fn.error) return;\r\n+        res.data.forEach(item => {\r\n+          item.attr_vals = item.attr_vals.length === 0 ? [] : item.attr_vals.split(',')\r\n+        })\r\n         this.manyTableData = res.data\r\n         console.log(res.data,111);\r\n       })\r\n     },\r\n"
                },
                {
                    "date": 1644604397326,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n       <el-form\r\n         :model=\"addItemForm\"\r\n         ref=\"addItemForm\"\r\n         :rules=\"addItemRules\"\r\n-        label-width=\"100px\"\r\n+        \r\n       >\r\n         <el-tabs\r\n           tab-position=\"left\"\r\n           v-model=\"activeIndex\"\r\n"
                },
                {
                    "date": 1644604420234,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n       <el-form\r\n         :model=\"addItemForm\"\r\n         ref=\"addItemForm\"\r\n         :rules=\"addItemRules\"\r\n-        \r\n+        label-width=\"80px\"\r\n       >\r\n         <el-tabs\r\n           tab-position=\"left\"\r\n           v-model=\"activeIndex\"\r\n"
                },
                {
                    "date": 1644604429078,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n       <el-form\r\n         :model=\"addItemForm\"\r\n         ref=\"addItemForm\"\r\n         :rules=\"addItemRules\"\r\n-        label-width=\"80px\"\r\n+        label-width=\"40px\"\r\n       >\r\n         <el-tabs\r\n           tab-position=\"left\"\r\n           v-model=\"activeIndex\"\r\n"
                },
                {
                    "date": 1644604547607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n       <el-form\r\n         :model=\"addItemForm\"\r\n         ref=\"addItemForm\"\r\n         :rules=\"addItemRules\"\r\n-        label-width=\"40px\"\r\n+       \r\n       >\r\n         <el-tabs\r\n           tab-position=\"left\"\r\n           v-model=\"activeIndex\"\r\n@@ -227,5 +227,9 @@\n }\r\n /* .el-cascader {\r\n   width: 100%;\r\n } */\r\n+.el-form-item {\r\n+  display: flex;\r\n+  flex-direction: column;\r\n+}\r\n </style>\r\n"
                },
                {
                    "date": 1644604573693,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n       <el-form\r\n         :model=\"addItemForm\"\r\n         ref=\"addItemForm\"\r\n         :rules=\"addItemRules\"\r\n-       \r\n+       label-width=\"100px\"\r\n       >\r\n         <el-tabs\r\n           tab-position=\"left\"\r\n           v-model=\"activeIndex\"\r\n"
                },
                {
                    "date": 1644604581518,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n       <el-form\r\n         :model=\"addItemForm\"\r\n         ref=\"addItemForm\"\r\n         :rules=\"addItemRules\"\r\n-       label-width=\"100px\"\r\n+       label-width=\"50px\"\r\n       >\r\n         <el-tabs\r\n           tab-position=\"left\"\r\n           v-model=\"activeIndex\"\r\n"
                },
                {
                    "date": 1644605677396,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n       <el-form\r\n         :model=\"addItemForm\"\r\n         ref=\"addItemForm\"\r\n         :rules=\"addItemRules\"\r\n-       label-width=\"50px\"\r\n+        label-width=\"50px\"\r\n       >\r\n         <el-tabs\r\n           tab-position=\"left\"\r\n           v-model=\"activeIndex\"\r\n@@ -79,16 +79,39 @@\n               ></el-cascader>\r\n             </el-form-item>\r\n           </el-tab-pane>\r\n           <el-tab-pane label=\"商品参数\" name=\"1\">\r\n-            <el-form-item v-for=\"(item) in manyTableData\" :key=\"item.attr_id\" :label=\"item.attr_name\">\r\n+            <el-form-item\r\n+              v-for=\"item in manyTableData\"\r\n+              :key=\"item.attr_id\"\r\n+              :label=\"item.attr_name\"\r\n+            >\r\n               <!--复选框组-->\r\n               <el-checkbox-group v-model=\"item.attr_vals\">\r\n-                <el-checkbox v-for=\"(cb,i)  in item.attr_vals\" :key=\"i\" :label=\"cb\" border size=\"small\"></el-checkbox>\r\n+                <el-checkbox\r\n+                  v-for=\"(cb, i) in item.attr_vals\"\r\n+                  :key=\"i\"\r\n+                  :label=\"cb\"\r\n+                  border\r\n+                  size=\"small\"\r\n+                ></el-checkbox>\r\n               </el-checkbox-group>\r\n             </el-form-item>\r\n           </el-tab-pane>\r\n-          <el-tab-pane label=\"商品图片\" name=\"2\">角色管理</el-tab-pane>\r\n+          <el-tab-pane label=\"商品图片\" name=\"2\">\r\n+            <el-upload\r\n+              :action=\"uploadUrl\"\r\n+              :on-preview=\"handlePreview\"\r\n+              :on-remove=\"handleRemove\"\r\n+              list-type=\"picture\"\r\n+              :headers=\"headerObj\"\r\n+            >\r\n+              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n+              <div slot=\"tip\" class=\"el-upload__tip\">\r\n+                只能上传jpg/png文件，且不超过500kb\r\n+              </div>\r\n+            </el-upload>\r\n+          </el-tab-pane>\r\n           <el-tab-pane label=\"商品内容\" name=\"3\">定时任务补偿</el-tab-pane>\r\n         </el-tabs>\r\n       </el-form>\r\n     </el-card>\r\n@@ -153,27 +176,30 @@\n         goods_price: 0,\r\n         goods_weight: 0,\r\n         goods_number: 0,\r\n         goods_cat: [],\r\n-        goods_introduce: '',\r\n-\r\n+        goods_introduce: ''\r\n       },\r\n       categoriesData: [],\r\n-      manyTableData:[]\r\n+      manyTableData: [],\r\n+      uploadUrl:'http://127.0.0.1:8888/api/private/v1/upload',\r\n+      headerObj:{\r\n+        Authorization:window.sessionStorage.getItem('token')\r\n+      }\r\n     }\r\n   },\r\n \r\n   methods: {\r\n     categoriesList() {\r\n       this.$api.shop.goCategoriesList().then((res) => {\r\n-        console.log(res);\r\n+        console.log(res)\r\n         if (!this.$fn.error) return\r\n         this.categoriesData = res.data\r\n       })\r\n     },\r\n     selectGoods(val) {\r\n       // console.log(this.categoriesData);\r\n-      console.log(val,111);\r\n+      console.log(val, 111)\r\n       // return;\r\n       // if (val.length !== 3) {\r\n       //   this.addItemForm.goods_cat = []\r\n       // }\r\n@@ -185,29 +211,34 @@\n         return false\r\n       }\r\n     },\r\n     attributesList() {\r\n-      this.$api.shop.getAttributes({id:this.cateId,sel:'many'}).then(res=>{\r\n-        if(!this.$fn.error) return;\r\n-        res.data.forEach(item => {\r\n-          item.attr_vals = item.attr_vals.length === 0 ? [] : item.attr_vals.split(',')\r\n+      this.$api.shop\r\n+        .getAttributes({ id: this.cateId, sel: 'many' })\r\n+        .then((res) => {\r\n+          if (!this.$fn.error) return\r\n+          res.data.forEach((item) => {\r\n+            item.attr_vals =\r\n+              item.attr_vals.length === 0 ? [] : item.attr_vals.split(',')\r\n+          })\r\n+          this.manyTableData = res.data\r\n+          console.log(res.data, 111)\r\n         })\r\n-        this.manyTableData = res.data\r\n-        console.log(res.data,111);\r\n-      })\r\n     },\r\n-    selectTab(){\r\n-      if(this.activeIndex === '1'){\r\n+    selectTab() {\r\n+      if (this.activeIndex === '1') {\r\n         this.attributesList()\r\n       }\r\n-    }\r\n+    },\r\n+    handlePreview(){},\r\n+    handleRemove(){}\r\n   },\r\n   mounted() {\r\n     this.categoriesList()\r\n   },\r\n-  computed:{\r\n-    cateId(){\r\n-      if(this.addItemForm.goods_cat.length === 3) {\r\n+  computed: {\r\n+    cateId() {\r\n+      if (this.addItemForm.goods_cat.length === 3) {\r\n         return this.addItemForm.goods_cat[2]\r\n       }\r\n       return null\r\n     }\r\n"
                },
                {
                    "date": 1644606079025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,9 +96,18 @@\n                 ></el-checkbox>\r\n               </el-checkbox-group>\r\n             </el-form-item>\r\n           </el-tab-pane>\r\n-          <el-tab-pane label=\"商品图片\" name=\"2\">\r\n+          <el-tab-pane label=\"商品属性\" name=\"2\">\r\n+            <el-form-item\r\n+              v-for=\"item in onlyTableData\"\r\n+              :key=\"item.attr_id\"\r\n+              :label=\"item.attr_name\"\r\n+            >\r\n+              <el-input v-model=\"item.attr_vals\"></el-input>\r\n+            </el-form-item>\r\n+          </el-tab-pane>\r\n+          <el-tab-pane label=\"商品图片\" name=\"3\">\r\n             <el-upload\r\n               :action=\"uploadUrl\"\r\n               :on-preview=\"handlePreview\"\r\n               :on-remove=\"handleRemove\"\r\n@@ -110,9 +119,9 @@\n                 只能上传jpg/png文件，且不超过500kb\r\n               </div>\r\n             </el-upload>\r\n           </el-tab-pane>\r\n-          <el-tab-pane label=\"商品内容\" name=\"3\">定时任务补偿</el-tab-pane>\r\n+          <el-tab-pane label=\"商品内容\" name=\"4\">定时任务补偿</el-tab-pane>\r\n         </el-tabs>\r\n       </el-form>\r\n     </el-card>\r\n   </div>\r\n@@ -180,11 +189,12 @@\n         goods_introduce: ''\r\n       },\r\n       categoriesData: [],\r\n       manyTableData: [],\r\n-      uploadUrl:'http://127.0.0.1:8888/api/private/v1/upload',\r\n-      headerObj:{\r\n-        Authorization:window.sessionStorage.getItem('token')\r\n+      onlyTableData: [],\r\n+      uploadUrl: 'http://127.0.0.1:8888/api/private/v1/upload',\r\n+      headerObj: {\r\n+        Authorization: window.sessionStorage.getItem('token')\r\n       }\r\n     }\r\n   },\r\n \r\n@@ -210,28 +220,35 @@\n         this.$message.error('您有商品分类未选择')\r\n         return false\r\n       }\r\n     },\r\n-    attributesList() {\r\n+    attributesList(data) {\r\n       this.$api.shop\r\n-        .getAttributes({ id: this.cateId, sel: 'many' })\r\n+        .getAttributes({ id: this.cateId, sel: data })\r\n         .then((res) => {\r\n           if (!this.$fn.error) return\r\n           res.data.forEach((item) => {\r\n             item.attr_vals =\r\n               item.attr_vals.length === 0 ? [] : item.attr_vals.split(',')\r\n           })\r\n-          this.manyTableData = res.data\r\n+          if (data === 'many') {\r\n+            this.manyTableData = res.data\r\n+          } else {\r\n+            this.onlyTableData = res.data\r\n+          }\r\n+\r\n           console.log(res.data, 111)\r\n         })\r\n     },\r\n     selectTab() {\r\n       if (this.activeIndex === '1') {\r\n-        this.attributesList()\r\n+        this.attributesList('many')\r\n+      } else if (this.activeIndex === '2') {\r\n+        this.attributesList('only')\r\n       }\r\n     },\r\n-    handlePreview(){},\r\n-    handleRemove(){}\r\n+    handlePreview() {},\r\n+    handleRemove() {}\r\n   },\r\n   mounted() {\r\n     this.categoriesList()\r\n   },\r\n"
                },
                {
                    "date": 1644606101443,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n       <el-form\r\n         :model=\"addItemForm\"\r\n         ref=\"addItemForm\"\r\n         :rules=\"addItemRules\"\r\n-        label-width=\"50px\"\r\n+        label-width=\"100px\"\r\n       >\r\n         <el-tabs\r\n           tab-position=\"left\"\r\n           v-model=\"activeIndex\"\r\n"
                },
                {
                    "date": 1644606268258,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n       <el-form\r\n         :model=\"addItemForm\"\r\n         ref=\"addItemForm\"\r\n         :rules=\"addItemRules\"\r\n-        label-width=\"100px\"\r\n+       \r\n       >\r\n         <el-tabs\r\n           tab-position=\"left\"\r\n           v-model=\"activeIndex\"\r\n"
                },
                {
                    "date": 1644606281767,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,9 +36,9 @@\n         :rules=\"addItemRules\"\r\n        \r\n       >\r\n         <el-tabs\r\n-          tab-position=\"left\"\r\n+          tab-position=\"right\"\r\n           v-model=\"activeIndex\"\r\n           :before-leave=\"beforeSwitchTab\"\r\n           @tab-click=\"selectTab\"\r\n         >\r\n"
                },
                {
                    "date": 1644606310858,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,12 +33,12 @@\n       <el-form\r\n         :model=\"addItemForm\"\r\n         ref=\"addItemForm\"\r\n         :rules=\"addItemRules\"\r\n-       \r\n+        label-width=\"100px\"\r\n       >\r\n         <el-tabs\r\n-          tab-position=\"right\"\r\n+          tab-position=\"left\"\r\n           v-model=\"activeIndex\"\r\n           :before-leave=\"beforeSwitchTab\"\r\n           @tab-click=\"selectTab\"\r\n         >\r\n"
                },
                {
                    "date": 1644606319220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n       <el-form\r\n         :model=\"addItemForm\"\r\n         ref=\"addItemForm\"\r\n         :rules=\"addItemRules\"\r\n-        label-width=\"100px\"\r\n+        \r\n       >\r\n         <el-tabs\r\n           tab-position=\"left\"\r\n           v-model=\"activeIndex\"\r\n"
                },
                {
                    "date": 1644606330697,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -275,9 +275,6 @@\n }\r\n /* .el-cascader {\r\n   width: 100%;\r\n } */\r\n-.el-form-item {\r\n-  display: flex;\r\n-  flex-direction: column;\r\n-}\r\n+\r\n </style>\r\n"
                },
                {
                    "date": 1644606396390,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n       <el-form\r\n         :model=\"addItemForm\"\r\n         ref=\"addItemForm\"\r\n         :rules=\"addItemRules\"\r\n-        \r\n+        label-position=\"top\"\r\n       >\r\n         <el-tabs\r\n           tab-position=\"left\"\r\n           v-model=\"activeIndex\"\r\n"
                },
                {
                    "date": 1644606491228,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,21 +48,21 @@\n             </el-form-item>\r\n             <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n               <el-input\r\n                 v-model=\"addItemForm.goods_price\"\r\n-                type=\"number\"\r\n+               \r\n               ></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n               <el-input\r\n                 v-model=\"addItemForm.goods_weight\"\r\n-                type=\"number\"\r\n+                \r\n               ></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n               <el-input\r\n                 v-model=\"addItemForm.goods_number\"\r\n-                type=\"number\"\r\n+                \r\n               ></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n               <!--  选择商品分类区域 -->\r\n@@ -185,9 +185,11 @@\n         goods_price: 0,\r\n         goods_weight: 0,\r\n         goods_number: 0,\r\n         goods_cat: [],\r\n-        goods_introduce: ''\r\n+        goods_introduce: '',\r\n+        pics: [],\r\n+        attrs: []\r\n       },\r\n       categoriesData: [],\r\n       manyTableData: [],\r\n       onlyTableData: [],\r\n"
                },
                {
                    "date": 1644606634052,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,21 +48,21 @@\n             </el-form-item>\r\n             <el-form-item label=\"商品价格\" prop=\"goods_price\">\r\n               <el-input\r\n                 v-model=\"addItemForm.goods_price\"\r\n-               \r\n+                type=\"number\"\r\n               ></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品重量\" prop=\"goods_weight\">\r\n               <el-input\r\n                 v-model=\"addItemForm.goods_weight\"\r\n-                \r\n+                type=\"number\"\r\n               ></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品数量\" prop=\"goods_number\">\r\n               <el-input\r\n                 v-model=\"addItemForm.goods_number\"\r\n-                \r\n+                type=\"number\"\r\n               ></el-input>\r\n             </el-form-item>\r\n             <el-form-item label=\"商品分类\" prop=\"goods_cat\">\r\n               <!--  选择商品分类区域 -->\r\n@@ -223,8 +223,9 @@\n         return false\r\n       }\r\n     },\r\n     attributesList(data) {\r\n+      console.log(data,1111);\r\n       this.$api.shop\r\n         .getAttributes({ id: this.cateId, sel: data })\r\n         .then((res) => {\r\n           if (!this.$fn.error) return\r\n"
                },
                {
                    "date": 1644606726216,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -235,9 +235,11 @@\n           })\r\n           if (data === 'many') {\r\n             this.manyTableData = res.data\r\n           } else {\r\n+            \r\n             this.onlyTableData = res.data\r\n+            console.log( this.onlyTableData );\r\n           }\r\n \r\n           console.log(res.data, 111)\r\n         })\r\n"
                },
                {
                    "date": 1644606838032,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -223,18 +223,18 @@\n         return false\r\n       }\r\n     },\r\n     attributesList(data) {\r\n-      console.log(data,1111);\r\n       this.$api.shop\r\n         .getAttributes({ id: this.cateId, sel: data })\r\n         .then((res) => {\r\n           if (!this.$fn.error) return\r\n-          res.data.forEach((item) => {\r\n+          \r\n+          if (data === 'many') {\r\n+            res.data.forEach((item) => {\r\n             item.attr_vals =\r\n               item.attr_vals.length === 0 ? [] : item.attr_vals.split(',')\r\n           })\r\n-          if (data === 'many') {\r\n             this.manyTableData = res.data\r\n           } else {\r\n             \r\n             this.onlyTableData = res.data\r\n"
                },
                {
                    "date": 1644607119551,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -112,8 +112,9 @@\n               :on-preview=\"handlePreview\"\r\n               :on-remove=\"handleRemove\"\r\n               list-type=\"picture\"\r\n               :headers=\"headerObj\"\r\n+              :on-success=\"successPic\"\r\n             >\r\n               <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n               <div slot=\"tip\" class=\"el-upload__tip\">\r\n                 只能上传jpg/png文件，且不超过500kb\r\n@@ -251,9 +252,13 @@\n         this.attributesList('only')\r\n       }\r\n     },\r\n     handlePreview() {},\r\n-    handleRemove() {}\r\n+    handleRemove() {},\r\n+    successPic(res){\r\n+      console.log(res.data.tmp_path);\r\n+     this.addItemForm.pics.push(res.data.tmp_path) \r\n+    }\r\n   },\r\n   mounted() {\r\n     this.categoriesList()\r\n   },\r\n"
                },
                {
                    "date": 1644607246185,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -254,10 +254,12 @@\n     },\r\n     handlePreview() {},\r\n     handleRemove() {},\r\n     successPic(res){\r\n-      console.log(res.data.tmp_path);\r\n-     this.addItemForm.pics.push(res.data.tmp_path) \r\n+      const pic = {pic:res.data.tmp_path}\r\n+     this.addItemForm.pics.push(pic) \r\n+      console.log(this.addItemForm);\r\n+\r\n     }\r\n   },\r\n   mounted() {\r\n     this.categoriesList()\r\n"
                },
                {
                    "date": 1644607445174,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -113,8 +113,9 @@\n               :on-remove=\"handleRemove\"\r\n               list-type=\"picture\"\r\n               :headers=\"headerObj\"\r\n               :on-success=\"successPic\"\r\n+              :on-remove=\"removePic\"\r\n             >\r\n               <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n               <div slot=\"tip\" class=\"el-upload__tip\">\r\n                 只能上传jpg/png文件，且不超过500kb\r\n@@ -258,8 +259,11 @@\n       const pic = {pic:res.data.tmp_path}\r\n      this.addItemForm.pics.push(pic) \r\n       console.log(this.addItemForm);\r\n \r\n+    },\r\n+    removePic(res){\r\n+      console.log(res);\r\n     }\r\n   },\r\n   mounted() {\r\n     this.categoriesList()\r\n"
                },
                {
                    "date": 1644607468010,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -113,9 +113,9 @@\n               :on-remove=\"handleRemove\"\r\n               list-type=\"picture\"\r\n               :headers=\"headerObj\"\r\n               :on-success=\"successPic\"\r\n-              :on-remove=\"removePic\"\r\n+              \r\n             >\r\n               <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n               <div slot=\"tip\" class=\"el-upload__tip\">\r\n                 只能上传jpg/png文件，且不超过500kb\r\n"
                },
                {
                    "date": 1644607492861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -113,9 +113,9 @@\n               :on-remove=\"handleRemove\"\r\n               list-type=\"picture\"\r\n               :headers=\"headerObj\"\r\n               :on-success=\"successPic\"\r\n-              \r\n+              :on-remove=\"removePic\"\r\n             >\r\n               <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n               <div slot=\"tip\" class=\"el-upload__tip\">\r\n                 只能上传jpg/png文件，且不超过500kb\r\n"
                },
                {
                    "date": 1644607517480,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -260,10 +260,10 @@\n      this.addItemForm.pics.push(pic) \r\n       console.log(this.addItemForm);\r\n \r\n     },\r\n-    removePic(res){\r\n-      console.log(res);\r\n+    removePic(file){\r\n+      console.log(file);\r\n     }\r\n   },\r\n   mounted() {\r\n     this.categoriesList()\r\n"
                },
                {
                    "date": 1644607555469,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -113,9 +113,9 @@\n               :on-remove=\"handleRemove\"\r\n               list-type=\"picture\"\r\n               :headers=\"headerObj\"\r\n               :on-success=\"successPic\"\r\n-              :on-remove=\"removePic\"\r\n+            \r\n             >\r\n               <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n               <div slot=\"tip\" class=\"el-upload__tip\">\r\n                 只能上传jpg/png文件，且不超过500kb\r\n@@ -253,18 +253,17 @@\n         this.attributesList('only')\r\n       }\r\n     },\r\n     handlePreview() {},\r\n-    handleRemove() {},\r\n+    handleRemove(file) {\r\n+      console.log(file);\r\n+    },\r\n     successPic(res){\r\n       const pic = {pic:res.data.tmp_path}\r\n      this.addItemForm.pics.push(pic) \r\n       console.log(this.addItemForm);\r\n \r\n     },\r\n-    removePic(file){\r\n-      console.log(file);\r\n-    }\r\n   },\r\n   mounted() {\r\n     this.categoriesList()\r\n   },\r\n"
                },
                {
                    "date": 1644607727384,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -254,9 +254,14 @@\n       }\r\n     },\r\n     handlePreview() {},\r\n     handleRemove(file) {\r\n-      console.log(file);\r\n+      const filePath = file.response.data.tmp_path\r\n+      const index = this.addItemForm.pics.findIndex(item=>{\r\n+        return item.pic === filePath\r\n+      })\r\n+      this.addItemForm.pics.splice(index,1)\r\n+      console.log(index,this.addItemForm);\r\n     },\r\n     successPic(res){\r\n       const pic = {pic:res.data.tmp_path}\r\n      this.addItemForm.pics.push(pic) \r\n"
                },
                {
                    "date": 1644607868889,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -252,9 +252,11 @@\n       } else if (this.activeIndex === '2') {\r\n         this.attributesList('only')\r\n       }\r\n     },\r\n-    handlePreview() {},\r\n+    handlePreview(file) {\r\n+      console.log(file);\r\n+    },\r\n     handleRemove(file) {\r\n       const filePath = file.response.data.tmp_path\r\n       const index = this.addItemForm.pics.findIndex(item=>{\r\n         return item.pic === filePath\r\n"
                },
                {
                    "date": 1644608074092,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -113,9 +113,8 @@\n               :on-remove=\"handleRemove\"\r\n               list-type=\"picture\"\r\n               :headers=\"headerObj\"\r\n               :on-success=\"successPic\"\r\n-            \r\n             >\r\n               <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n               <div slot=\"tip\" class=\"el-upload__tip\">\r\n                 只能上传jpg/png文件，且不超过500kb\r\n@@ -125,8 +124,11 @@\n           <el-tab-pane label=\"商品内容\" name=\"4\">定时任务补偿</el-tab-pane>\r\n         </el-tabs>\r\n       </el-form>\r\n     </el-card>\r\n+    <el-dialog title=\"图片预览\" :visible.sync=\"dialogVisible\" width=\"50%\">\r\n+      <span>111</span>\r\n+    </el-dialog>\r\n   </div>\r\n </template>\r\n \r\n <script>\r\n@@ -197,9 +199,11 @@\n       onlyTableData: [],\r\n       uploadUrl: 'http://127.0.0.1:8888/api/private/v1/upload',\r\n       headerObj: {\r\n         Authorization: window.sessionStorage.getItem('token')\r\n-      }\r\n+      },\r\n+      preView: '',\r\n+      dialogVisible: false\r\n     }\r\n   },\r\n \r\n   methods: {\r\n@@ -229,19 +233,18 @@\n       this.$api.shop\r\n         .getAttributes({ id: this.cateId, sel: data })\r\n         .then((res) => {\r\n           if (!this.$fn.error) return\r\n-          \r\n+\r\n           if (data === 'many') {\r\n             res.data.forEach((item) => {\r\n-            item.attr_vals =\r\n-              item.attr_vals.length === 0 ? [] : item.attr_vals.split(',')\r\n-          })\r\n+              item.attr_vals =\r\n+                item.attr_vals.length === 0 ? [] : item.attr_vals.split(',')\r\n+            })\r\n             this.manyTableData = res.data\r\n           } else {\r\n-            \r\n             this.onlyTableData = res.data\r\n-            console.log( this.onlyTableData );\r\n+            console.log(this.onlyTableData)\r\n           }\r\n \r\n           console.log(res.data, 111)\r\n         })\r\n@@ -253,24 +256,24 @@\n         this.attributesList('only')\r\n       }\r\n     },\r\n     handlePreview(file) {\r\n-      console.log(file);\r\n+      this.preView = file.response.data.url\r\n+      console.log(this.preView)\r\n     },\r\n     handleRemove(file) {\r\n       const filePath = file.response.data.tmp_path\r\n-      const index = this.addItemForm.pics.findIndex(item=>{\r\n+      const index = this.addItemForm.pics.findIndex((item) => {\r\n         return item.pic === filePath\r\n       })\r\n-      this.addItemForm.pics.splice(index,1)\r\n-      console.log(index,this.addItemForm);\r\n+      this.addItemForm.pics.splice(index, 1)\r\n+      console.log(index, this.addItemForm)\r\n     },\r\n-    successPic(res){\r\n-      const pic = {pic:res.data.tmp_path}\r\n-     this.addItemForm.pics.push(pic) \r\n-      console.log(this.addItemForm);\r\n-\r\n-    },\r\n+    successPic(res) {\r\n+      const pic = { pic: res.data.tmp_path }\r\n+      this.addItemForm.pics.push(pic)\r\n+      console.log(this.addItemForm)\r\n+    }\r\n   },\r\n   mounted() {\r\n     this.categoriesList()\r\n   },\r\n@@ -297,6 +300,5 @@\n }\r\n /* .el-cascader {\r\n   width: 100%;\r\n } */\r\n-\r\n </style>\r\n"
                },
                {
                    "date": 1644608090027,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -257,8 +257,9 @@\n       }\r\n     },\r\n     handlePreview(file) {\r\n       this.preView = file.response.data.url\r\n+      this.dialogVisible = true;\r\n       console.log(this.preView)\r\n     },\r\n     handleRemove(file) {\r\n       const filePath = file.response.data.tmp_path\r\n"
                },
                {
                    "date": 1644608154868,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,9 +125,9 @@\n         </el-tabs>\r\n       </el-form>\r\n     </el-card>\r\n     <el-dialog title=\"图片预览\" :visible.sync=\"dialogVisible\" width=\"50%\">\r\n-      <span>111</span>\r\n+     <img :src=\"preView\" alt=\"图片预览错误\">\r\n     </el-dialog>\r\n   </div>\r\n </template>\r\n \r\n"
                },
                {
                    "date": 1644608192221,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,9 +125,9 @@\n         </el-tabs>\r\n       </el-form>\r\n     </el-card>\r\n     <el-dialog title=\"图片预览\" :visible.sync=\"dialogVisible\" width=\"50%\">\r\n-     <img :src=\"preView\" alt=\"图片预览错误\">\r\n+     <img :src=\"preView\" alt=\"图片预览错误\" style=\"overflow-x:auto\">\r\n     </el-dialog>\r\n   </div>\r\n </template>\r\n \r\n"
                },
                {
                    "date": 1644608235370,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,9 +125,9 @@\n         </el-tabs>\r\n       </el-form>\r\n     </el-card>\r\n     <el-dialog title=\"图片预览\" :visible.sync=\"dialogVisible\" width=\"50%\">\r\n-     <img :src=\"preView\" alt=\"图片预览错误\" style=\"overflow-x:auto\">\r\n+     <img :src=\"preView\" alt=\"图片预览错误\" class=\"previewImg\">\r\n     </el-dialog>\r\n   </div>\r\n </template>\r\n \r\n@@ -301,5 +301,8 @@\n }\r\n /* .el-cascader {\r\n   width: 100%;\r\n } */\r\n+.previewImg {\r\n+  width: 100%;\r\n+}\r\n </style>\r\n"
                },
                {
                    "date": 1644608736861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,14 +120,19 @@\n                 只能上传jpg/png文件，且不超过500kb\r\n               </div>\r\n             </el-upload>\r\n           </el-tab-pane>\r\n-          <el-tab-pane label=\"商品内容\" name=\"4\">定时任务补偿</el-tab-pane>\r\n+          <el-tab-pane label=\"商品内容\" name=\"4\">\r\n+            <quill-editor v-model=\"addItemForm.goods_introduce\"\r\n+                >\r\n+  </quill-editor>\r\n+          </el-tab-pane>\r\n         </el-tabs>\r\n       </el-form>\r\n     </el-card>\r\n     <el-dialog title=\"图片预览\" :visible.sync=\"dialogVisible\" width=\"50%\">\r\n      <img :src=\"preView\" alt=\"图片预览错误\" class=\"previewImg\">\r\n+\r\n     </el-dialog>\r\n   </div>\r\n </template>\r\n \r\n"
                },
                {
                    "date": 1644608850101,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -309,5 +309,8 @@\n } */\r\n .previewImg {\r\n   width: 100%;\r\n }\r\n+*/deep/ .ql-editor {\r\n+  min-height: 300px;\r\n+}\r\n </style>\r\n"
                },
                {
                    "date": 1644608898673,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,8 +124,9 @@\n           <el-tab-pane label=\"商品内容\" name=\"4\">\r\n             <quill-editor v-model=\"addItemForm.goods_introduce\"\r\n                 >\r\n   </quill-editor>\r\n+  <el-button type=\"primary\" style=\"margin-top:15px;\"></el-button>\r\n           </el-tab-pane>\r\n         </el-tabs>\r\n       </el-form>\r\n     </el-card>\r\n"
                },
                {
                    "date": 1644608924469,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,9 +124,9 @@\n           <el-tab-pane label=\"商品内容\" name=\"4\">\r\n             <quill-editor v-model=\"addItemForm.goods_introduce\"\r\n                 >\r\n   </quill-editor>\r\n-  <el-button type=\"primary\" style=\"margin-top:15px;\"></el-button>\r\n+  <el-button type=\"primary\" style=\"margin-top:15px;\">添加商品</el-button>\r\n           </el-tab-pane>\r\n         </el-tabs>\r\n       </el-form>\r\n     </el-card>\r\n"
                },
                {
                    "date": 1644609023112,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,9 +124,9 @@\n           <el-tab-pane label=\"商品内容\" name=\"4\">\r\n             <quill-editor v-model=\"addItemForm.goods_introduce\"\r\n                 >\r\n   </quill-editor>\r\n-  <el-button type=\"primary\" style=\"margin-top:15px;\">添加商品</el-button>\r\n+  <el-button type=\"primary\" style=\"margin-top:15px;\" @click=\"add\">添加商品</el-button>\r\n           </el-tab-pane>\r\n         </el-tabs>\r\n       </el-form>\r\n     </el-card>\r\n@@ -278,8 +278,17 @@\n     successPic(res) {\r\n       const pic = { pic: res.data.tmp_path }\r\n       this.addItemForm.pics.push(pic)\r\n       console.log(this.addItemForm)\r\n+    },\r\n+    add(){\r\n+      this.$refs.addItemForm.validate(async valid => {\r\n+        if (!valid) {\r\n+          return this.$message.error('请填写必要的表单项!')\r\n+        }\r\n+        \r\n+      })\r\n+    \r\n     }\r\n   },\r\n   mounted() {\r\n     this.categoriesList()\r\n"
                },
                {
                    "date": 1644609092889,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -280,9 +280,9 @@\n       this.addItemForm.pics.push(pic)\r\n       console.log(this.addItemForm)\r\n     },\r\n     add(){\r\n-      this.$refs.addItemForm.validate(async valid => {\r\n+      this.$refs.addItemForm.validate( valid => {\r\n         if (!valid) {\r\n           return this.$message.error('请填写必要的表单项!')\r\n         }\r\n         \r\n"
                },
                {
                    "date": 1644609987167,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -137,8 +137,9 @@\n   </div>\r\n </template>\r\n \r\n <script>\r\n+import _ from 'lodash'\r\n export default {\r\n   name: 'Add',\r\n   data() {\r\n     return {\r\n@@ -284,9 +285,33 @@\n       this.$refs.addItemForm.validate( valid => {\r\n         if (!valid) {\r\n           return this.$message.error('请填写必要的表单项!')\r\n         }\r\n-        \r\n+        const form = _.cloneDeep(this.addItemForm)\r\n+        form.goods_cat = form.goods_cat.join(',')\r\n+        // 处理动态参数\r\n+        this.manyTableData.forEach(item => {\r\n+          const newInfo = {\r\n+            attr_id: item.attr_id,\r\n+            attr_value: item.attr_vals.join(' ')\r\n+          }\r\n+          this.addItemForm.attrs.push(newInfo)\r\n+        })\r\n+        // 处理静态属性\r\n+        this.onlyTableData.forEach(item => {\r\n+          const newInfo = {\r\n+            attr_id: item.attr_id,\r\n+            attr_value: item.attr_vals\r\n+          }\r\n+          this.addItemForm.attrs.push(newInfo)\r\n+        })\r\n+        form.attrs = this.addItemForm.attrs\r\n+       this.$api.shop.getGoods(form).then(res=>{\r\n+         if(!this.$fn.error)return;\r\n+         this.$message.success('添加商品成功!')\r\n+        // 编程式导航, 跳转页面\r\n+        this.$router.push('/goods')\r\n+       })\r\n       })\r\n     \r\n     }\r\n   },\r\n"
                },
                {
                    "date": 1644610106497,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -304,9 +304,9 @@\n           }\r\n           this.addItemForm.attrs.push(newInfo)\r\n         })\r\n         form.attrs = this.addItemForm.attrs\r\n-       this.$api.shop.getGoods(form).then(res=>{\r\n+       this.$api.shop.getAddGoods(form).then(res=>{\r\n          if(!this.$fn.error)return;\r\n          this.$message.success('添加商品成功!')\r\n         // 编程式导航, 跳转页面\r\n         this.$router.push('/goods')\r\n"
                },
                {
                    "date": 1644610290020,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -305,9 +305,9 @@\n           this.addItemForm.attrs.push(newInfo)\r\n         })\r\n         form.attrs = this.addItemForm.attrs\r\n        this.$api.shop.getAddGoods(form).then(res=>{\r\n-         if(!this.$fn.error)return;\r\n+         if(res.meta.status!==201){return this.$message.error(res.meta.msg)};\r\n          this.$message.success('添加商品成功!')\r\n         // 编程式导航, 跳转页面\r\n         this.$router.push('/goods')\r\n        })\r\n"
                },
                {
                    "date": 1644610363231,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -291,9 +291,9 @@\n         // 处理动态参数\r\n         this.manyTableData.forEach(item => {\r\n           const newInfo = {\r\n             attr_id: item.attr_id,\r\n-            attr_value: item.attr_vals.join(' ')\r\n+            attr_value: item.attr_vals.join(',')\r\n           }\r\n           this.addItemForm.attrs.push(newInfo)\r\n         })\r\n         // 处理静态属性\r\n"
                },
                {
                    "date": 1644610430458,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,11 +192,11 @@\n         expandTrigger: 'hover'\r\n       },\r\n       addItemForm: {\r\n         goods_name: '',\r\n-        goods_price: 0,\r\n-        goods_weight: 0,\r\n-        goods_number: 0,\r\n+        goods_price: null,\r\n+        goods_weight: null,\r\n+        goods_number: null,\r\n         goods_cat: [],\r\n         goods_introduce: '',\r\n         pics: [],\r\n         attrs: []\r\n"
                }
            ],
            "date": 1644596488575,
            "name": "Commit-0",
            "content": "<template>\r\n  <div>添加商品</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Add',\r\n}\r\n</script>\r\n\r\n<style  scoped>\r\n\r\n</style>\r\n"
        }
    ]
}